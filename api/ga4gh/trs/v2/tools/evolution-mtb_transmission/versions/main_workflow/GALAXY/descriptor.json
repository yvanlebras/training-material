{
  "content": "{\n    \"a_galaxy_workflow\": \"true\",\n    \"annotation\": \"Given a set of VCF files and the reference genome used to do the mapping and SNP calling, create a multifasta file containing the genomes of all samples and calculate the matrix of pairwise SNP distances\",\n    \"format-version\": \"0.1\",\n    \"name\": \"From VCFs to SNP distance matrix\",\n    \"steps\": {\n        \"0\": {\n            \"annotation\": \"\",\n            \"content_id\": null,\n            \"errors\": null,\n            \"id\": 0,\n            \"input_connections\": {},\n            \"inputs\": [\n                {\n                    \"description\": \"\",\n                    \"name\": \"Collection of VCFs to analyze\"\n                }\n            ],\n            \"label\": \"Collection of VCFs to analyze\",\n            \"name\": \"Input dataset collection\",\n            \"outputs\": [],\n            \"position\": {\n                \"bottom\": 602.3000183105469,\n                \"height\": 89.10000610351562,\n                \"left\": 562.0999755859375,\n                \"right\": 782.0999755859375,\n                \"top\": 513.2000122070312,\n                \"width\": 220,\n                \"x\": 562.0999755859375,\n                \"y\": 513.2000122070312\n            },\n            \"tool_id\": null,\n            \"tool_state\": \"{\\\"optional\\\": false, \\\"collection_type\\\": \\\"list\\\"}\",\n            \"tool_version\": null,\n            \"type\": \"data_collection_input\",\n            \"uuid\": \"a3701b5d-9f74-46b4-ae97-51c432933230\",\n            \"workflow_outputs\": []\n        },\n        \"1\": {\n            \"annotation\": \"\",\n            \"content_id\": null,\n            \"errors\": null,\n            \"id\": 1,\n            \"input_connections\": {},\n            \"inputs\": [\n                {\n                    \"description\": \"\",\n                    \"name\": \"Reference genome of the MTBC ancestor\"\n                }\n            ],\n            \"label\": \"Reference genome of the MTBC ancestor\",\n            \"name\": \"Input dataset\",\n            \"outputs\": [],\n            \"position\": {\n                \"bottom\": 789.7333526611328,\n                \"height\": 111.53334045410156,\n                \"left\": 865.0999755859375,\n                \"right\": 1085.0999755859375,\n                \"top\": 678.2000122070312,\n                \"width\": 220,\n                \"x\": 865.0999755859375,\n                \"y\": 678.2000122070312\n            },\n            \"tool_id\": null,\n            \"tool_state\": \"{\\\"optional\\\": false}\",\n            \"tool_version\": null,\n            \"type\": \"data_input\",\n            \"uuid\": \"899dca08-73f5-4ac1-9d19-313414c90a1e\",\n            \"workflow_outputs\": []\n        },\n        \"2\": {\n            \"annotation\": \"We will ensure at this step that variants to build the MSA are fixed variants and that we low-confidence filter repetitive regions of the MTB genome\",\n            \"content_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/tb_variant_filter/tb_variant_filter/0.1.3+galaxy0\",\n            \"errors\": null,\n            \"id\": 2,\n            \"input_connections\": {\n                \"input1\": {\n                    \"id\": 0,\n                    \"output_name\": \"output\"\n                }\n            },\n            \"inputs\": [],\n            \"label\": \"Filter TB variants\",\n            \"name\": \"TB Variant Filter\",\n            \"outputs\": [\n                {\n                    \"name\": \"output1\",\n                    \"type\": \"vcf\"\n                }\n            ],\n            \"position\": {\n                \"bottom\": 636.7333526611328,\n                \"height\": 122.53334045410156,\n                \"left\": 866.0999755859375,\n                \"right\": 1086.0999755859375,\n                \"top\": 514.2000122070312,\n                \"width\": 220,\n                \"x\": 866.0999755859375,\n                \"y\": 514.2000122070312\n            },\n            \"post_job_actions\": {\n                \"RenameDatasetActionoutput1\": {\n                    \"action_arguments\": {\n                        \"newname\": \"#{input1}.filter.vcf\"\n                    },\n                    \"action_type\": \"RenameDatasetAction\",\n                    \"output_name\": \"output1\"\n                }\n            },\n            \"tool_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/tb_variant_filter/tb_variant_filter/0.1.3+galaxy0\",\n            \"tool_shed_repository\": {\n                \"changeset_revision\": \"3b1e7c170b10\",\n                \"name\": \"tb_variant_filter\",\n                \"owner\": \"iuc\",\n                \"tool_shed\": \"toolshed.g2.bx.psu.edu\"\n            },\n            \"tool_state\": \"{\\\"filter_options\\\": {\\\"show_filter_options\\\": \\\"yes\\\", \\\"__current_case__\\\": 0, \\\"region_filter\\\": [\\\"pe_ppe\\\", \\\"uvp\\\"], \\\"indel_window_size\\\": \\\"5\\\", \\\"min_percentage_alt\\\": \\\"90.0\\\", \\\"min_depth\\\": \\\"30\\\"}, \\\"filters\\\": [\\\"region_filter\\\", \\\"close_to_indel_filter\\\", \\\"min_percentage_alt_filter\\\", \\\"snv_only_filter\\\"], \\\"input1\\\": {\\\"__class__\\\": \\\"ConnectedValue\\\"}, \\\"__page__\\\": null, \\\"__rerun_remap_job_id__\\\": null}\",\n            \"tool_version\": \"0.1.3+galaxy0\",\n            \"type\": \"tool\",\n            \"uuid\": \"b6ef7486-0dc1-4f0c-ad2d-038f648670b8\",\n            \"workflow_outputs\": [\n                {\n                    \"label\": null,\n                    \"output_name\": \"output1\",\n                    \"uuid\": \"87f8ad83-d43e-4e44-8bed-33415b7add79\"\n                }\n            ]\n        },\n        \"3\": {\n            \"annotation\": \"The complete genome of each of the samples is generated by inserting the SNPs defined in the respective VCF in the reference genome that was used for mapping and SNP calling\",\n            \"content_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/bcftools_consensus/bcftools_consensus/1.9+galaxy2\",\n            \"errors\": null,\n            \"id\": 3,\n            \"input_connections\": {\n                \"input_file\": {\n                    \"id\": 2,\n                    \"output_name\": \"output1\"\n                },\n                \"reference_source|fasta_ref\": {\n                    \"id\": 1,\n                    \"output_name\": \"output\"\n                }\n            },\n            \"inputs\": [\n                {\n                    \"description\": \"runtime parameter for tool bcftools consensus\",\n                    \"name\": \"input_file\"\n                },\n                {\n                    \"description\": \"runtime parameter for tool bcftools consensus\",\n                    \"name\": \"reference_source\"\n                },\n                {\n                    \"description\": \"runtime parameter for tool bcftools consensus\",\n                    \"name\": \"sec_default\"\n                }\n            ],\n            \"label\": \"Generate the complete genome of each of the samples\",\n            \"name\": \"bcftools consensus\",\n            \"outputs\": [\n                {\n                    \"name\": \"output_file\",\n                    \"type\": \"fasta\"\n                }\n            ],\n            \"position\": {\n                \"bottom\": 734.0333557128906,\n                \"height\": 209.83334350585938,\n                \"left\": 1144.0999755859375,\n                \"right\": 1364.0999755859375,\n                \"top\": 524.2000122070312,\n                \"width\": 220,\n                \"x\": 1144.0999755859375,\n                \"y\": 524.2000122070312\n            },\n            \"post_job_actions\": {\n                \"RenameDatasetActionoutput_file\": {\n                    \"action_arguments\": {\n                        \"newname\": \"#{input_file}\"\n                    },\n                    \"action_type\": \"RenameDatasetAction\",\n                    \"output_name\": \"output_file\"\n                }\n            },\n            \"tool_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/bcftools_consensus/bcftools_consensus/1.9+galaxy2\",\n            \"tool_shed_repository\": {\n                \"changeset_revision\": \"a87ae767b01d\",\n                \"name\": \"bcftools_consensus\",\n                \"owner\": \"iuc\",\n                \"tool_shed\": \"toolshed.g2.bx.psu.edu\"\n            },\n            \"tool_state\": \"{\\\"chain\\\": \\\"false\\\", \\\"input_file\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"reference_source\\\": {\\\"reference_source_selector\\\": \\\"history\\\", \\\"__current_case__\\\": 1, \\\"fasta_ref\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}}, \\\"rename\\\": \\\"true\\\", \\\"sec_default\\\": {\\\"mask\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"iupac_codes\\\": \\\"false\\\", \\\"sample\\\": \\\"\\\", \\\"select_haplotype\\\": null}, \\\"__page__\\\": null, \\\"__rerun_remap_job_id__\\\": null}\",\n            \"tool_version\": \"1.9+galaxy2\",\n            \"type\": \"tool\",\n            \"uuid\": \"967af052-882a-427c-825e-e88f59ac50b3\",\n            \"workflow_outputs\": [\n                {\n                    \"label\": \"#{input_file}\",\n                    \"output_name\": \"output_file\",\n                    \"uuid\": \"ce5dd7a2-c33d-46b4-9f02-68c2bdfcf31a\"\n                }\n            ]\n        },\n        \"4\": {\n            \"annotation\": \"All genomes are concatenated in a single multifasta file. Because all o them have the same length, this may be seen as a multiple sequence alignment.\",\n            \"content_id\": \"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.1\",\n            \"errors\": null,\n            \"id\": 4,\n            \"input_connections\": {\n                \"inputs\": {\n                    \"id\": 3,\n                    \"output_name\": \"output_file\"\n                }\n            },\n            \"inputs\": [\n                {\n                    \"description\": \"runtime parameter for tool Concatenate datasets\",\n                    \"name\": \"inputs\"\n                }\n            ],\n            \"label\": \"Concatenate genomes to build a MSA\",\n            \"name\": \"Concatenate datasets\",\n            \"outputs\": [\n                {\n                    \"name\": \"out_file1\",\n                    \"type\": \"input\"\n                }\n            ],\n            \"position\": {\n                \"bottom\": 647.7333526611328,\n                \"height\": 122.53334045410156,\n                \"left\": 1519.0999755859375,\n                \"right\": 1739.0999755859375,\n                \"top\": 525.2000122070312,\n                \"width\": 220,\n                \"x\": 1519.0999755859375,\n                \"y\": 525.2000122070312\n            },\n            \"post_job_actions\": {},\n            \"tool_id\": \"toolshed.g2.bx.psu.edu/repos/bgruening/text_processing/tp_cat/0.1.1\",\n            \"tool_shed_repository\": {\n                \"changeset_revision\": \"f46f0e4f75c4\",\n                \"name\": \"text_processing\",\n                \"owner\": \"bgruening\",\n                \"tool_shed\": \"toolshed.g2.bx.psu.edu\"\n            },\n            \"tool_state\": \"{\\\"inputs\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"queries\\\": [], \\\"__page__\\\": null, \\\"__rerun_remap_job_id__\\\": null}\",\n            \"tool_version\": \"0.1.1\",\n            \"type\": \"tool\",\n            \"uuid\": \"e0b536e1-c56c-41ed-9600-905d0cf58e97\",\n            \"workflow_outputs\": [\n                {\n                    \"label\": null,\n                    \"output_name\": \"out_file1\",\n                    \"uuid\": \"c1fe096c-2693-4128-8139-4285bcd394ad\"\n                }\n            ]\n        },\n        \"5\": {\n            \"annotation\": \"Discard invariant positions from the MSA to simplify the file so only contains positions with at least one SNP in at least one strain.\",\n            \"content_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/snp_sites/snp_sites/2.5.1+galaxy0\",\n            \"errors\": null,\n            \"id\": 5,\n            \"input_connections\": {\n                \"input_fasta\": {\n                    \"id\": 4,\n                    \"output_name\": \"out_file1\"\n                }\n            },\n            \"inputs\": [\n                {\n                    \"description\": \"runtime parameter for tool Finds SNP sites\",\n                    \"name\": \"input_fasta\"\n                }\n            ],\n            \"label\": \"Keep only variable positions\",\n            \"name\": \"Finds SNP sites\",\n            \"outputs\": [\n                {\n                    \"name\": \"output_fasta\",\n                    \"type\": \"fasta\"\n                }\n            ],\n            \"position\": {\n                \"bottom\": 647.1666870117188,\n                \"height\": 144.9666748046875,\n                \"left\": 1843.0999755859375,\n                \"right\": 2063.0999755859375,\n                \"top\": 502.20001220703125,\n                \"width\": 220,\n                \"x\": 1843.0999755859375,\n                \"y\": 502.20001220703125\n            },\n            \"post_job_actions\": {},\n            \"tool_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/snp_sites/snp_sites/2.5.1+galaxy0\",\n            \"tool_shed_repository\": {\n                \"changeset_revision\": \"5804f786060d\",\n                \"name\": \"snp_sites\",\n                \"owner\": \"iuc\",\n                \"tool_shed\": \"toolshed.g2.bx.psu.edu\"\n            },\n            \"tool_state\": \"{\\\"input_fasta\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"out_type\\\": {\\\"ot_select\\\": \\\"alignment\\\", \\\"__current_case__\\\": 0, \\\"formats\\\": [\\\"-m\\\"], \\\"b\\\": \\\"false\\\", \\\"c\\\": \\\"false\\\"}, \\\"__page__\\\": null, \\\"__rerun_remap_job_id__\\\": null}\",\n            \"tool_version\": \"2.5.1+galaxy0\",\n            \"type\": \"tool\",\n            \"uuid\": \"3718c889-5f1c-4cc7-977c-eaa564753c9b\",\n            \"workflow_outputs\": [\n                {\n                    \"label\": null,\n                    \"output_name\": \"output_fasta\",\n                    \"uuid\": \"2931ef4f-28d7-4701-bee0-292177bf0841\"\n                }\n            ]\n        },\n        \"6\": {\n            \"annotation\": \"From the MSA. Calculate pairwise SNP distances between samples. \",\n            \"content_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/snp_dists/snp_dists/0.6.3+galaxy0\",\n            \"errors\": null,\n            \"id\": 6,\n            \"input_connections\": {\n                \"input\": {\n                    \"id\": 5,\n                    \"output_name\": \"output_fasta\"\n                }\n            },\n            \"inputs\": [\n                {\n                    \"description\": \"runtime parameter for tool SNP distance matrix\",\n                    \"name\": \"input\"\n                }\n            ],\n            \"label\": \"Calculate SNP distances\",\n            \"name\": \"SNP distance matrix\",\n            \"outputs\": [\n                {\n                    \"name\": \"output\",\n                    \"type\": \"tabular\"\n                }\n            ],\n            \"position\": {\n                \"bottom\": 662.6000213623047,\n                \"height\": 167.40000915527344,\n                \"left\": 2173.10009765625,\n                \"right\": 2393.10009765625,\n                \"top\": 495.20001220703125,\n                \"width\": 220,\n                \"x\": 2173.10009765625,\n                \"y\": 495.20001220703125\n            },\n            \"post_job_actions\": {},\n            \"tool_id\": \"toolshed.g2.bx.psu.edu/repos/iuc/snp_dists/snp_dists/0.6.3+galaxy0\",\n            \"tool_shed_repository\": {\n                \"changeset_revision\": \"1959cc43b414\",\n                \"name\": \"snp_dists\",\n                \"owner\": \"iuc\",\n                \"tool_shed\": \"toolshed.g2.bx.psu.edu\"\n            },\n            \"tool_state\": \"{\\\"a\\\": \\\"false\\\", \\\"b\\\": \\\"false\\\", \\\"input\\\": {\\\"__class__\\\": \\\"RuntimeValue\\\"}, \\\"k\\\": \\\"false\\\", \\\"__page__\\\": null, \\\"__rerun_remap_job_id__\\\": null}\",\n            \"tool_version\": \"0.6.3+galaxy0\",\n            \"type\": \"tool\",\n            \"uuid\": \"e5f85c1b-43cc-417e-8e02-79ecc511b4ec\",\n            \"workflow_outputs\": [\n                {\n                    \"label\": null,\n                    \"output_name\": \"output\",\n                    \"uuid\": \"2dff3ea9-ce2d-48eb-b9eb-90b3b6034ae6\"\n                }\n            ]\n        }\n    },\n    \"tags\": [\"evolution\"],\n    \"uuid\": \"69bd4977-643c-4024-bf24-7632d691f8cf\",\n    \"version\": 4\n}\n",
  "checksum": [

  ],
  "url": null
}