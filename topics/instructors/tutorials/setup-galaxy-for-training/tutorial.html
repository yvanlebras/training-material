<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Set up a Galaxy for Training</title>
        
            <script async defer data-domain="training.galaxyproject.org" src="https://plausible.galaxyproject.eu/js/plausible.js"></script>

        
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap.min.css?v=3">
        <link rel="stylesheet" href="/training-material/assets/css/bootstrap-toc.min.css">
        <link rel="stylesheet" href="/training-material/assets/css/main.css?v=2">
        <script src="https://kit.fontawesome.com/67b3f98409.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/training-material/assets/css/academicons.css">
        <link rel="stylesheet" href="/training-material/assets/css/syntax_highlighting.css">
        <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon" />
        <link rel="alternate" type="application/atom+xml" href="/training-material/feed.xml" />

        
        
        
        
        
        <meta name="description" content="Galaxy is a great solution to train the bioinformatics co..." />
        <meta property="og:title" content="Galaxy Training: Set up a Galaxy for Training" />
        <meta property="og:description" content="Galaxy is a great solution to train the bioinformatics co..." />
        <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png" />
    </head>
    <body data-spy="scroll" data-target="#toc">
        <header>
    <nav class="navbar navbar-expand-md navbar-dark" aria-label="Site Navigation">
        <div class="container">
            <a class="navbar-brand" href="/training-material/">
                <img src="/training-material/assets/images/GTN-60px.png" height="30" alt="Galaxy Training Network logo">
                Galaxy Training!
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-navbar" aria-controls="top-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/training-material/topics/instructors" title="Go back to list of tutorials">
                            <i class="far fa-folder" aria-hidden="true"></i> Teaching and Hosting Galaxy training
                        </a>
                        
                    </li>

                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Languages">
                            <i class="fas fa-language" aria-hidden="true"></i><span class="visually-hidden">language</span> Languages
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                            
                              <strong class="dropdown-header">Automatic Translations</strong>
            
            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=fr&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html&edit-text=&act=url">
                            Français
                            </a>
                            
            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ja&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html&edit-text=&act=url">
                            日本語
                            </a>
                            
            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=es&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html&edit-text=&act=url">
                            Español
                            </a>
                            
            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=pt&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html&edit-text=&act=url">
                            Português
                            </a>
                            
            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ar&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html&edit-text=&act=url">
                            العربية
                            </a>
                            
                            <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=&u=https%3A%2F%2Ftraining.galaxyproject.org/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html&edit-text=&act=url" title="">
                            And more!
                            </a>
                        </div>
                    </li>

                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Help">
        <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">help</span> Help
    </a>
    <div class="dropdown-menu dropdown-menu-right">
        <!-- disable Tess for now
        <form method="get" action="https://tess.elixir-europe.org/materials">
            <input type="text" id="search" name="q" value="" style="margin-left: 0.5em;/*! border-radius: 0px; */">
            <input type="hidden" value="Galaxy Training" name="content_provider">
            <input type="submit" value="Search on TeSS" style="width: 92%;border-radius: 0px;margin: 0.5em;background: #f47d20;border: 0px;padding: 0.25em;" class="">
        </form>
        -->

        <a class="dropdown-item" href="/training-material/faq" title="Check our FAQs">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> FAQs
        </a>
        
        <a class="dropdown-item" href="/training-material/topics/instructors/faqs/" title="Check our FAQs for the Teaching and Hosting Galaxy training topic">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> Topic FAQs
        </a>
        
        <a class="dropdown-item" href="https://help.galaxyproject.org/" title="Discuss on Galaxy Help">
            <i class="far fa-comments" aria-hidden="true"></i><span class="visually-hidden">feedback</span> Galaxy Help Forum
        </a>
        <a class="dropdown-item" href="https://gitter.im/Galaxy-Training-Network/Lobby" title="Discuss on gitter">
           <i class="fab fa-gitter" aria-hidden="true"></i><span class="visually-hidden">gitter</span> Discuss on Gitter
        </a>
    </div>
</li>


                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Extras">
        <i class="far fa-star" aria-hidden="true"></i><span class="visually-hidden">galaxy-star</span> Extras
    </a>
    <div class="dropdown-menu dropdown-menu-right">

        
        <a class="dropdown-item" href="https://github.com/galaxyproject/training-material/edit/main/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.md" title="Edit on GitHub">
          <i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit on GitHub
        </a>

        <a class="dropdown-item" href="/training-material/stats.html" title="Show view statistics about this repository">
            <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN statistics
        </a>

        <a class="dropdown-item" href="https://plausible.galaxyproject.eu/training.galaxyproject.org?period=12mo&page=/training-material/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html" title="Show view statistics of this page">
            <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> Page Metrics
        </a>

        
            <a class="dropdown-item" href="/training-material/feedback.html" title="Show feedback statistics about this repository">
                <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN feedback
            </a>
        

        <div class="dropdown-item">
            <div>
                <i class="fas fa-palette" aria-hidden="true"></i><span class="visually-hidden">gtn-theme</span> Theme
            </div>

            <div id="theme-selector" data-toggle="buttons">
                <label data-value="default" class="btn btn-secondary">
                    <input type="radio" name="options" id="default" autocomplete="off"> Default
                </label>
                <label data-value="night" class="btn btn-secondary">
                    <input type="radio" name="options" id="night" autocomplete="off"> Night
                </label>
                <label data-value="midnight" class="btn btn-secondary">
                    <input type="radio" name="options" id="midnight" autocomplete="off"> Midnight
                </label>
                <label data-value="rainbow" class="btn btn-secondary">
                    <input type="radio" name="options" id="rainbow" autocomplete="off"> Rainbow
                </label>
                <label data-value="progress" class="btn btn-secondary">
                    <input type="radio" name="options" id="progress" autocomplete="off">🏳️‍🌈
                </label>
                <label data-value="halloween" class="btn btn-secondary">
                    <input type="radio" name="options" id="halloween" autocomplete="off"> 🎃
                </label>
                <label data-value="straya" class="btn btn-secondary">
                    <input type="radio" name="options" id="downunder" autocomplete="off"> 🇦🇺
                </label>
            </div>

        </div>

        <div class="dropdown-item">
            <div>
                <i class="fas fa-history" aria-hidden="true"></i><span class="visually-hidden">galaxy-rulebuilder-history</span> Previous Versions
            </div>

            
            <div id="archive-selector">
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/" title="Older Versions">Older Versions</a>
            </div>

        </div>

    </div>
</li>


                    <!-- Search bar-->
                    <li class="nav-item">
                      <div id="navbarSupportedContent" role="search">
                        <!-- Search form -->
                        <form class="form-inline mr-auto" method="GET" action="/training-material/search">
                          <i class="fas fa-search nav-link" aria-hidden="true"></i>
                          <div class="md-form mb-2">
                            <input name="query" class="form-control nicer" type="text" placeholder="Search Tutorials" aria-label="Search">
                          </div>
                        </form>
                      </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

        <div class="container main-content" role="main">
        











<!-- Gitter -->




<script>
  ((window.gitter = {}).chat = {}).options = {
  room: 'Galaxy-Training-Network/Lobby'
  };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

<script type="application/ld+json">
    


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "citation": {
    "@type": "CreativeWork",
    "name": "Community-Driven Data Analysis Training for Biology",
    "url": "https://doi.org/10.1016/j.cels.2018.05.012"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "dateModified": "1970-01-01 00:33:40 +0000",
  "discussionUrl": "https://gitter.im/Galaxy-Training-Network/Lobby",
  "headline": "Set up a Galaxy for Training",
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "isFamilyFriendly": true,
  "license": "https://spdx.org/licenses/CC-BY-4.0.html",
  "producer": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "provider": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "isPartOf": {
    "@type": "CreativeWork",
    "name": "Teaching and Hosting Galaxy training",
    "description": "Galaxy is a great solution to train the bioinformatics concepts:\nnumerous bioinformatics tools are available (almost 5,000 in the ToolShed), it\ncan be used by people without any computer science skills, it trains to use\ntechnology, outlining available resources and efforts that have made them\naccessible to researchers, it is scalable.<br>\n\nThe Galaxy community via the Galaxy Training Network supports instructors and\nworkshop organizers using with a series of recommandations (tutorials below) and\nregular discussion meetings.<br>\n\nYou can additionally <a href=\"philosophies/\">read about our training philosophies.</a>\n",
    "url": "https://training.galaxyproject.org//training-material/topics/instructors/"
  },
  "courseCode": "instructors / setup-galaxy-for-training / hands-on",
  "learningResourceType": "hands-on tutorial",
  "name": "Hands-on for 'Set up a Galaxy for Training' tutorial",
  "url": "https://training.galaxyproject.org//training-material/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html",
  "timeRequired": "PT2H",
  "description": "The questions this  addresses are:\n - How do I prepare my Galaxy instance to support a training module?\n - How can I generate a Docker Galaxy instance for my topic?\n\n\\nThe objectives are:\n - Use ephemeris to install the training requirements to a Galaxy instance\n - Create a docker image for a training topic\n\n",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "hasPart": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "Saskia Hiltemann"
    },
    {
      "@type": "Person",
      "name": "Bérénice Batut"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "Saskia Hiltemann"
    },
    {
      "@type": "Person",
      "name": "Bérénice Batut"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Teaching and Hosting Galaxy training",
      "description": "Galaxy is a great solution to train the bioinformatics concepts:\nnumerous bioinformatics tools are available (almost 5,000 in the ToolShed), it\ncan be used by people without any computer science skills, it trains to use\ntechnology, outlining available resources and efforts that have made them\naccessible to researchers, it is scalable.<br>\n\nThe Galaxy community via the Galaxy Training Network supports instructors and\nworkshop organizers using with a series of recommandations (tutorials below) and\nregular discussion meetings.<br>\n\nYou can additionally <a href=\"philosophies/\">read about our training philosophies.</a>\n",
      "url": "https://training.galaxyproject.org//training-material/topics/instructors/"
    }
  ]
}
</script>

<section class="tutorial topic-instructors">
    <h1 data-toc-skip>Set up a Galaxy for Training</h1>
    


    <div class="contributors-line">Authors: 
<a href="/training-material/hall-of-fame/shiltemann/" class="contributor-badge contributor-shiltemann"><img src="https://avatars.githubusercontent.com/shiltemann?s=27" alt="Avatar">Saskia Hiltemann</a>


<a href="/training-material/hall-of-fame/bebatut/" class="contributor-badge contributor-bebatut"><img src="https://avatars.githubusercontent.com/bebatut?s=27" alt="Avatar">Bérénice Batut</a>


<a href="https://training.galaxyproject.org/training-material/topics/contributing/" class="contributor-badge contributor-newcontributors"><i class="fas fa-users" aria-hidden="true"></i><span class="visually-hidden">hall-of-fame</span>Add Contributions!</a>

</div>


    <blockquote class="overview">
        <h3>Overview</h3>
        
        <img alt="Creative Commons License" class="float-right" style="border-width:0; display: inline-block; margin:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" aria-hidden="true" />
        
        <strong><i class="far fa-question-circle" aria-hidden="true"></i> Questions:</strong>
        <ul>
        
        <li><p>How do I prepare my Galaxy instance to support a training module?</p>
</li>
        
        <li><p>How can I generate a Docker Galaxy instance for my topic?</p>
</li>
        
        </ul>

        <strong><i class="fas fa-bullseye" aria-hidden="true"></i> Objectives: </strong>
        <ul>
        
        <li><p>Use ephemeris to install the training requirements to a Galaxy instance</p>
</li>
        
        <li><p>Create a docker image for a training topic</p>
</li>
        
        </ul>

        

        
        <div><strong><i class="fas fa-hourglass-half" aria-hidden="true"></i> Time estimation:</strong> 2 hours</div>
        

        

        
        

        

        <div><strong><i class="far fa-calendar" aria-hidden="true"></i> Last modification:</strong> Feb 10, 2020 </div>
        <div><strong><i class="fas fa-balance-scale" aria-hidden="true"></i> License:</strong>
            
            <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Tutorial Content is licensed under Creative Commons Attribution 4.0 International License</a>
            
            <a rel="license" href="https://github.com/galaxyproject/training-material/blob/main/LICENSE.md">The GTN Framework is licensed under MIT</a>
        </div>
    </blockquote>

    <div class="container">
        <div class="row">
            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-2">
                <nav id="toc" data-toggle="toc" class="sticky-top" aria-label="Table of Contents"></nav>
            </div>
            <div class="col-sm-10">
                 

                <h1 class="no_toc" id="introduction">Introduction</h1>

<p>In this tutorial, you will learn how to provision your <span class="notranslate">Galaxy</span> instance to support training modules from the GTN repository.</p>

<p>Tutorials in this repository are all supplemented with files describing the technical requirements to run them. This makes it easy to automate installation of tutorial requirements.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">tools.yaml</code>: describes the Tool Shed tools used in the tutorial</li>
  <li><code class="language-plaintext highlighter-rouge">data-library.yaml</code>: describes the input datasets</li>
  <li><code class="language-plaintext highlighter-rouge">data-manager.yaml</code>: describes the reference data required by tools</li>
  <li><code class="language-plaintext highlighter-rouge">workflows</code> folder: contains one or more workflows with all steps in the tutorial</li>
  <li><code class="language-plaintext highlighter-rouge">tours</code> folder: contains one or more yaml files describing interactive tours</li>
</ul>

<blockquote class="comment">
  <h3 id="comment-requirements"><i class="far fa-comment-dots" aria-hidden="true"></i><span class="visually-hidden">comment</span> Requirements</h3>
  <p>For more information about how to create these files, please see our module on <a href="/training-material/topics/contributing/tutorials/create-new-tutorial-technical/tutorial.html">specifying the technical requirements for your tutorial</a>.</p>
</blockquote>

<p>For just the list of Ephemeris commands needed for installation, skip to the <a href="#quickstart">Quickstart section</a> at the end of this tutorial.</p>

<blockquote class="agenda">
  <h3 id="agenda">Agenda</h3>

  <p>In this tutorial, we will deal with:</p>

<ol id="markdown-toc">
  <li><a href="#prepare-for-installation" id="markdown-toc-prepare-for-installation">Prepare for installation</a>    <ol>
      <li><a href="#start-a-local-galaxy" id="markdown-toc-start-a-local-galaxy">Start a local <span class="notranslate">Galaxy</span></a></li>
      <li><a href="#find-your-galaxy-api-key" id="markdown-toc-find-your-galaxy-api-key">Find your <span class="notranslate">Galaxy</span> API key</a></li>
      <li><a href="#install-ephemeris" id="markdown-toc-install-ephemeris">Install Ephemeris</a></li>
    </ol>
  </li>
  <li><a href="#installing-tutorial-requirements" id="markdown-toc-installing-tutorial-requirements">Installing tutorial requirements</a></li>
  <li><a href="#quickstart" id="markdown-toc-quickstart">Quickstart</a></li>
</ol>

</blockquote>

<h1 id="prepare-for-installation">Prepare for installation</h1>

<p>If you have a <span class="notranslate">Galaxy</span> server already running somewhere and would like to support one or more training modules, <a href="https://ephemeris.readthedocs.io">ephemeris</a> can be used to easily install all the required tools, reference data, data libraries, tours and workflows.</p>

<p>For the purposes of this training, we will create a <span class="notranslate">Galaxy</span> instance running on <code class="language-plaintext highlighter-rouge">localhost:8080</code>, but these instructions can be adapted for use with any <span class="notranslate">Galaxy</span> instance by replacing this value with the URL or IP address of your <span class="notranslate">Galaxy</span> server.</p>

<h2 id="start-a-local-galaxy">Start a local <span class="notranslate">Galaxy</span></h2>

<p>To setup a <span class="notranslate">Galaxy</span> server locally, we will first clone the <span class="notranslate">Galaxy</span> github repository, make a few small edits to the <code class="language-plaintext highlighter-rouge"><span class="notranslate">galaxy</span>.yaml</code> configuration file, and then start the server.</p>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-hands-on-setup-a-local-galaxy-instance"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Hands-on: Setup a local <span class="notranslate">Galaxy</span> instance</h3>

  <ol>
    <li>Clone the github repository
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/<span class="notranslate">galaxy</span>project/<span class="notranslate">galaxy</span>.git
<span class="nb">cd </span><span class="notranslate">galaxy</span>
</code></pre></div>      </div>
    </li>
    <li>Add yourself as admin user in <code class="language-plaintext highlighter-rouge">config/<span class="notranslate">galaxy</span>.yaml</code>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp </span>config/<span class="notranslate">galaxy</span>.yml.sample config/<span class="notranslate">galaxy</span>.yml
</code></pre></div>      </div>
      <p>open the <code class="language-plaintext highlighter-rouge"><span class="notranslate">galaxy</span>.yml</code> file with your favorite editor and edit the following line with your email address:</p>
      <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">admin_users</span><span class="pi">:</span> <span class="s">user@example.org</span>
</code></pre></div>      </div>
    </li>
    <li>Start <span class="notranslate">Galaxy</span>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sh run.sh
</code></pre></div>      </div>
      <p><span class="notranslate">Galaxy</span> will now install all its requirements, which may take a few minutes,
when all is finished installing, you should see something like this in your screen:</p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Starting server in PID 9560.
serving on http://localhost:8080
</code></pre></div>      </div>
    </li>
    <li>Open <span class="notranslate">Galaxy</span>
      <ul>
        <li>Open a web browser</li>
        <li>Navigate to <code class="language-plaintext highlighter-rouge">localhost:8080</code> to access <span class="notranslate">Galaxy</span></li>
      </ul>
    </li>
  </ol>

</blockquote>

<h2 id="find-your-galaxy-api-key">Find your <span class="notranslate">Galaxy</span> API key</h2>

<p>In order to install the tutorial requirements, we will need the API key of an admin user.</p>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-hands-on-obtain-galaxy-api-key"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Hands-on: Obtain <span class="notranslate">Galaxy</span> API key</h3>

  <ol>
    <li>Register an account on <span class="notranslate">Galaxy</span> using the email address you added to the <code class="language-plaintext highlighter-rouge">config/<span class="notranslate">galaxy</span>.yml</code> file
      <ul>
        <li>Once logged in, verify that you have a menu item named <code class="language-plaintext highlighter-rouge">Admin</code> in your top menu bar.</li>
      </ul>
    </li>
    <li>Go to your <code class="language-plaintext highlighter-rouge">User -&gt; Preferences</code> in the top menu bar, then click on <code class="language-plaintext highlighter-rouge">Manage API key</code></li>
    <li>Click on <code class="language-plaintext highlighter-rouge">Create a new key</code> to generate an API key
      <ul>
        <li>Copy your API key to somewhere convenient, you will need it throughout this tutorial</li>
      </ul>
    </li>
  </ol>

</blockquote>

<h2 id="install-ephemeris">Install Ephemeris</h2>

<p>To install to training requirements to our <span class="notranslate">Galaxy</span>, we will use Ephemeris, let’s install it now:</p>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-hands-on-install-ephemeris"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Hands-on: Install Ephemeris</h3>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># optional: create a virtual environment</span>
virtualenv .venv<span class="p">;</span> <span class="nb">.</span> .venv/bin/activate

<span class="c"># install ephemeris</span>
pip <span class="nb">install </span>ephemeris
</code></pre></div>  </div>
</blockquote>

<h1 id="installing-tutorial-requirements">Installing tutorial requirements</h1>

<p>We have created a small bash script to automatically install all of a tutorial’s requirements to an existing <span class="notranslate">Galaxy</span>. It’s located in this repository under: <a href="https://github.com/galaxyproject/training-material/tree/main/bin/install_tutorial_requirements.sh"><code class="language-plaintext highlighter-rouge">bin/install_tutorial_requirements.sh</code></a></p>

<p>In this example we will install the requirements for the <a href="/training-material/topics/transcriptomics/tutorials/ref-based/tutorial.html"><em>Reference-based <span class="notranslate">RNA</span>Seq</em></a> tutorial to the <span class="notranslate">Galaxy</span> instance running on localhost.</p>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-hands-on-install-a-tutorial"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Hands-on: Install a tutorial</h3>

  <ol>
    <li>If you have not done so yet, clone the training material github repo:
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/<span class="notranslate">galaxy</span>project/training-material.git
<span class="nb">cd </span>training-material
</code></pre></div>      </div>
    </li>
    <li>
      <p>Run the script to install the <span class="notranslate">RNA</span>Seq tutorial</p>

      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bin/install_tutorial_requirements.sh topics/transcriptomics/tutorials/ref-based http://localhost:8080 &lt;api key&gt;
</code></pre></div>      </div>
    </li>
  </ol>

</blockquote>

<p>Installation may take some time. This script will automatically install the tools, create a data library and populate it with the input datasets from Zenodo, install and publish the workflows, and run any data managers that might be required.</p>

<p>The only thing the script cannot currently automate is the installation of the interactive tours. We will now do this manually by copying the contents of the <code class="language-plaintext highlighter-rouge">tours</code> folder to our <span class="notranslate">Galaxy</span> instance, in the folder <code class="language-plaintext highlighter-rouge">$<span class="notranslate">GALAXY</span>_ROOT/config/plugins/tours</code></p>

<blockquote class="notranslate hands_on">
  <h3 id="hands_on-hands-on-install-the-interactive-tours"><i class="fas fa-pencil-alt" aria-hidden="true"></i><span class="visually-hidden">hands_on</span> Hands-on: Install the interactive Tours</h3>

  <ol>
    <li>Copy the <code class="language-plaintext highlighter-rouge">tour.yaml</code> file from the training materials repo to <span class="notranslate">Galaxy</span>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> <span class="nt">-r</span> topics/transcriptomics/tutorials/ref-based/tours/ <span class="nv">$<span class="notranslate">GALAXY</span>_ROOT</span>/config/plugins/tours
</code></pre></div>      </div>
    </li>
  </ol>

</blockquote>

<h3 id="installing-an-entire-topic">Installing an entire topic</h3>

<p>If you would like to install all the requirements for every tutorial within an entire topic, you can use the script in <a href="https://github.com/galaxyproject/training-material/tree/main/bin/install_topic_requirements.sh"><code class="language-plaintext highlighter-rouge">bin/install_topic_requirements.sh</code></a></p>

<h3 id="installing-a-subset-of-components">Installing a subset of components</h3>

<p>If you would like to pick and choose what to install for each tutorial, below are descriptions of the commands used to install each of the components (tools, workflows, reference data, data libraries, tours) please see the <a href="#quickstart">Quickstart section</a> for the individual commands used by the script</p>

<h1 id="quickstart">Quickstart</h1>

<p>Below is the list of commands used in this tutorial.</p>

<p>Using the scripts in this repository:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Make sure you are in the root of the training-material repo</span>
<span class="nb">cd</span> &lt;training-materials repo root&gt;

<span class="c"># install single tutorial</span>
bin/install_tutorial_requirements.sh topics/&lt;yourtopic&gt;/tutorials/&lt;yourtutorial&gt; &lt;<span class="notranslate">Galaxy</span> URL&gt; &lt;API key&gt;

<span class="c"># install entire topic</span>
bin/install_topic_requirements.sh topics/&lt;yourtopic&gt; &lt;<span class="notranslate">Galaxy</span> URL&gt; &lt;API key&gt;

</code></pre></div></div>

<p>Using ephemeris directly:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># install tools
shed-tools install -g &lt;<span class="notranslate">Galaxy</span> URL&gt; -a &lt;API key&gt; -t topics/&lt;topic&gt;/tutorials/&lt;tutorial&gt;/tools.yaml

# create data library with input datasets
setup-data-libraries -g &lt;<span class="notranslate">Galaxy</span> URL&gt; -a &lt;API key&gt; -i topics/&lt;topic&gt;/tutorials/&lt;tutorial&gt;/data-library.yaml

# install reference data
run-data-managers -g &lt;<span class="notranslate">Galaxy</span> URL&gt; -a &lt;API key&gt; --config topics/&lt;topic&gt;/tutorials/&lt;tutorial&gt;/data-manager.yaml

# install workflows
<span class="notranslate">workflow</span>-install --publish-workflows -g &lt;<span class="notranslate">Galaxy</span> URL&gt; -a &lt;API key&gt; -w topics/&lt;topic&gt;/tutorials/&lt;tutorial&gt;/workflows

# install tours
copy the contents of the "tours" directory for the tutorial to <span class="notranslate">Galaxy</span>'s "config/plugins/tours/"
</code></pre></div></div>

<p>When data libraries are created, depending on the server settings, they may be created privately. You will need to fix their permissions either through the UI or the API if you have many datasets. Use<span class="notranslate">Galaxy</span>.eu uses <a href="https://github.com/usegalaxy-eu/shared-data/blob/fb9b4ed069dcd59a39b40e9c7ea08a068d8a9df2/run.sh">a script</a> to correct the permissions.</p>

<h1 class="no_toc" id="conclusion">Conclusion</h1>


                
                <blockquote class="key_points">
                    <h3><i class="fas fa-key" aria-hidden="true"></i> Key points</h3>
                    <ul>
                        
                        <li><p>Technical requirements have been defined for all the training materials</p>
</li>
                        
                        <li><p>Ephemeris can be used to automatically install these requirements to an existing Galaxy</p>
</li>
                        
                        <li><p>Convenience scripts are provided in the training material repository allow for easy installation</p>
</li>
                        
                        <li><p>Docker images can easily be created per topic</p>
</li>
                        
                    </ul>
                </blockquote>
                

                <h1>Frequently Asked Questions</h1>
                Have questions about this tutorial? Check out the  <a href="/training-material/topics/instructors/faqs/">FAQ page for the Teaching and Hosting Galaxy training topic</a> to see if your question is listed there.
                If not, please ask your question on the <a href="https://gitter.im/Galaxy-Training-Network/Lobby">GTN Gitter Channel</a> or the
                <a href="https://help.galaxyproject.org">Galaxy Help Forum</a>

                

                

                

                <h1>Feedback</h1>
                <p class="text-muted">Did you use this material as an instructor? Feel free to give us feedback on <a href="https://github.com/galaxyproject/training-material/issues/1452" target="_blank">how it went</a>.
                <br>Did you use this material as a learner or student? Click the form below to leave feedback.<i class="fas fa-hand-point-down"></i>
                </p>

                <div id="feedback-button">
                    <img src="/training-material/shared/images/feedback.png" title="Click to activate" alt="Click here to load Google feedback frame" />
                </div>
                <div id="feedback-form">
                </div>
                <script type="text/javascript">
                    (function (window, document) {
                        function onDocumentReady(fn) {
                            if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
                                fn();
                            } else {
                                document.addEventListener('DOMContentLoaded', fn);
                            }
                        }

                        onDocumentReady(function () {
                            $("#feedback-button").click(function(evt){
                                var e = $(evt.target)
                                e.hide();

                                $("#feedback-form").html(`
                                    <iframe id="feedback-google" class="google-form" src="https://docs.google.com/forms/d/e/1FAIpQLSd4VZptFTQ03kHkMz0JyW9b6_S8geU5KjNE_tLM0dixT3ZQmA/viewform?embedded=true&entry.1235803833=Set up a Galaxy for Training (Teaching and Hosting Galaxy training)">Loading...</iframe>
                                `)
                            })
                        });
                    })(window, document);
                </script>



                <h1>Citing this Tutorial</h1>
                <p>
                    <ol>
                        <li id="citation-text">Saskia Hiltemann, Bérénice Batut, 2020 <b>Set up a Galaxy for Training (Galaxy Training Materials)</b>. <a href="https://training.galaxyproject.org/training-material/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html">https://training.galaxyproject.org/training-material/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html</a> Online; accessed TODAY
                        </li>
                        <li>
                        Batut et al., 2018 <b>Community-Driven Data Analysis Training for Biology</b> Cell Systems <a href="https://doi.org/10.1016%2Fj.cels.2018.05.012">10.1016/j.cels.2018.05.012</a>
                        </li>
                    </ol>
                </p>


                <blockquote class="details">
                  <h3><i class="fa fa-info-circle" aria-hidden="true"></i><span class="visually-hidden">details</span> BibTeX</h3>
                  <p style="display: none;">

                <div class="highlighter-rouge"><div class="highlight"><pre class="highlight">
<code id="citation-code">@misc{instructors-setup-galaxy-for-training,
author = "Saskia Hiltemann and Bérénice Batut",
title = "Set up a Galaxy for Training (Galaxy Training Materials)",
year = "2020",
month = "02",
day = "10"
url = "\url{https://training.galaxyproject.org/training-material/topics/instructors/tutorials/setup-galaxy-for-training/tutorial.html}",
note = "[Online; accessed TODAY]"
}
@article{Batut_2018,
    doi = {10.1016/j.cels.2018.05.012},
    url = {https://doi.org/10.1016%2Fj.cels.2018.05.012},
    year = 2018,
    month = {jun},
    publisher = {Elsevier {BV}},
    volume = {6},
    number = {6},
    pages = {752--758.e1},
    author = {B{\'{e}}r{\'{e}}nice Batut and Saskia Hiltemann and Andrea Bagnacani and Dannon Baker and Vivek Bhardwaj and Clemens Blank and Anthony Bretaudeau and Loraine Brillet-Gu{\'{e}}guen and Martin {\v{C}}ech and John Chilton and Dave Clements and Olivia Doppelt-Azeroual and Anika Erxleben and Mallory Ann Freeberg and Simon Gladman and Youri Hoogstrate and Hans-Rudolf Hotz and Torsten Houwaart and Pratik Jagtap and Delphine Larivi{\`{e}}re and Gildas Le Corguill{\'{e}} and Thomas Manke and Fabien Mareuil and Fidel Ram{\'{\i}}rez and Devon Ryan and Florian Christoph Sigloch and Nicola Soranzo and Joachim Wolff and Pavankumar Videm and Markus Wolfien and Aisanjiang Wubuli and Dilmurat Yusuf and James Taylor and Rolf Backofen and Anton Nekrutenko and Björn Grüning},
    title = {Community-Driven Data Analysis Training for Biology},
    journal = {Cell Systems}
}</code>
                </pre></div></div>
                </p>
                </blockquote>


<script type="text/javascript">
// update the date on load, or leave fallback of 'today'
d = new Date();
document.getElementById("citation-code").innerHTML = document.getElementById("citation-code").innerHTML.replace("TODAY", d.toDateString());
document.getElementById("citation-text").innerHTML = document.getElementById("citation-text").innerHTML.replace("TODAY", d.toDateString());
</script>

                <h3><i class="far fa-thumbs-up" aria-hidden="true"></i> Congratulations on successfully completing this tutorial!</h3>

                

                

            </div>
        </div>
    </div>
</section>
<br/>
<br/>
<br/>

        </div>
        
    </body>
    <script type="text/javascript" src="/training-material/assets/js/jquery.slim.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/popper.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap.min.js?v=3"></script>
    <script type="text/javascript" src="/training-material/assets/js/details-element-polyfill.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="/training-material/assets/js/bootstrap-toc.min.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/main.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/theme.js"></script>

    <script type="text/javascript" src="/training-material/assets/js/clipboard.min.js"></script>
    <script type="text/javascript">
    var snippets=document.querySelectorAll('div.highlight');
    [].forEach.call(snippets,function(snippet){
        snippet.firstChild.insertAdjacentHTML('beforebegin','<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
    });

    var clipboardSnippets=new ClipboardJS('[data-clipboard-snippet]',{
        target:function(trigger){return trigger.nextElementSibling;
    }});
    </script>
    

    <script type="text/javascript">
        if(window.location.hostname === "galaxyproject.github.io") {
            // Redirect
            var redirect = "https://training.galaxyproject.org" + window.location.pathname + window.location.search;
            $('div.container.main-content').prepend("<div class='alert alert-warning'><strong>Note: </strong>This content has a new home at <a href=\"" + redirect + "\">" + redirect + "</a>, which you will be redirected to in 5 seconds.</div>");

            window.setTimeout(function(){
                window.location.href = redirect;
            }, 5000)

        }
    </script>
</html>
