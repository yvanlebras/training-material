<!DOCTYPE html>
<html>











  <head>
    <meta charset="utf-8">
    <title>Submitting SARS-CoV-2 sequences to ENA</title>
    
        <script async defer data-domain="training.galaxyproject.org" src="https://plausible.galaxyproject.eu/js/plausible.js"></script>

    
    <link rel="stylesheet" href="/training-material/assets/css/slides.css">
    <script src="https://kit.fontawesome.com/67b3f98409.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon" />

    
    
    
    
    <meta name="description" content="A collection of microtutorials explaining various feature..." />
    <meta property="og:title" content="Galaxy Training: Submitting SARS-CoV-2 sequences to ENA" />
    <meta property="og:description" content="A collection of microtutorials explaining various feature..." />
    <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png" />
    <script type="application/ld+json">
      


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "citation": {
    "@type": "CreativeWork",
    "name": "Community-Driven Data Analysis Training for Biology",
    "url": "https://doi.org/10.1016/j.cels.2018.05.012"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "dateModified": "1970-01-01 00:33:41 +0000",
  "discussionUrl": "https://gitter.im/Galaxy-Training-Network/Lobby",
  "headline": "Submitting SARS-CoV-2 sequences to ENA",
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "isFamilyFriendly": true,
  "license": "https://spdx.org/licenses/CC-BY-4.0.html",
  "producer": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "provider": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "isPartOf": {
    "@type": "CreativeWork",
    "name": "Using Galaxy and Managing your Data",
    "description": "A collection of microtutorials explaining various features of the Galaxy user interface and manipulating data within Galaxy.",
    "url": "https://training.galaxyproject.org//training-material/topics/galaxy-interface/"
  },
  "courseCode": "galaxy-interface / upload-data-to-ena / slides",
  "learningResourceType": "slides",
  "name": "Slides for 'Submitting SARS-CoV-2 sequences to ENA' tutorial",
  "url": "https://training.galaxyproject.org//training-material/topics/galaxy-interface/tutorials/upload-data-to-ena/slides.html",
  "timeRequired": "PT1H",
  "description": "The objectives are:\n - Introduce the European Nucleotide Archive (ENA)\n - Learn the requirements to submit raw SARS-CoV-2 sequences to ENA in Galaxy\n - Overview ENA's metadata model and how metadata objects are linked\n\n",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "hasPart": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "Miguel Roncoroni"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "Miguel Roncoroni"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Using Galaxy and Managing your Data",
      "description": "A collection of microtutorials explaining various features of the Galaxy user interface and manipulating data within Galaxy.",
      "url": "https://training.galaxyproject.org//training-material/topics/galaxy-interface/"
    }
  ]
}
    </script>
    <script type="text/javascript" src="/training-material/assets/js/jquery.slim.min.js"></script>
  </head>
  <body>
    <textarea id="source">
name: inverse
layout: true
class: center, middle, inverse

<div class="my-header"><span>
<a href="/training-material/topics/galaxy-interface" title="Return to topic page" ><i class="fa fa-level-up" aria-hidden="true"></i></a>

<a class="nav-link" href="https://github.com/galaxyproject/training-material/edit/main/topics/galaxy-interface/tutorials/upload-data-to-ena/slides.html"><i class="fa fa-pencil" aria-hidden="true"></i></a>

</span></div>

<div class="my-footer"><span>

<img src="/training-material/assets/images/GTN-60px.png" alt="Galaxy Training Network" style="height: 40px;"/>

</span></div>

---



<img src="/training-material/assets/images/GTN.png" alt="Galaxy Training Network" class="cover-logo"/>


# Submitting SARS-CoV-2 sequences to ENA


<div class="contributors-line">

<a href="/training-material/hall-of-fame/roncoronimiguel/" class="contributor-badge contributor-roncoronimiguel"><img src="https://avatars.githubusercontent.com/roncoronimiguel?s=27" alt="Avatar">Miguel Roncoroni</a>


<a href="https://training.galaxyproject.org/training-material/topics/contributing/" class="contributor-badge contributor-newcontributors"><i class="fas fa-users" aria-hidden="true"></i><span class="visually-hidden">hall-of-fame</span>Add Contributions!</a>


</div>


<div class="footnote" style="bottom: 4 em;"><i class="far fa-calendar" aria-hidden="true"></i><span class="visually-hidden">last_modification</span> Updated: Aug 10, 2021</div>

<div class="footnote" style="bottom: 2.5em;"><i class="fas fa-file-alt" aria-hidden="true"></i><span class="visually-hidden">text-document</span><a href="slides-plain.html"> Plain-text slides</a></div>
<div class="footnote" style="bottom: 1em;"><strong>Tip: </strong>press <kbd>P</kbd> to view the presenter notes</div>

???
Presenter notes contain extra information which might be useful if you intend to use these slides for teaching.

Press `P` again to switch presenter notes off

Press `C` to create a new window where the same presentation will be displayed.
This window is linked to the main window. Changing slides on one will cause the
slide to change on the other.

Useful when presenting.



---









### &lt;i class=&quot;fas fa-bullseye&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;span class=&quot;visually-hidden&quot;&gt;objectives&lt;/span&gt; Objectives


- Introduce the European Nucleotide Archive (ENA)

- Learn the requirements to submit raw SARS-CoV-2 sequences to ENA in Galaxy

- Overview ENA's metadata model and how metadata objects are linked


---


### The European Nucleotide Archive
.pull-left[

.left[
ENA is:
- a FAIR and Open repository for sequence data (reads, assemblies, annotations)
- part of the International Nucleotide Sequence Database Collaboration (INSDC) with NCBI and DDJB
- the [COVID-19 data portal](https://www.covid19dataportal.org/) repository for SARS-CoV-2 sequences
]
]
.pull-right[
![ENA-FAIR](../../images/upload-data-to-ena/ENA-FAIR.png)

The European Nucleotide Archive and INSDC
]

---

## SARS-CoV-2 sequences
.left[
Why is raw SARS-CoV-2 sequence data important?
- Allows reuse of data and reproducibility of analysis
- Enables discovery of minor allelic variants and [intrahost variation](https://virological.org/t/global-framework-for-sars-cov-2-data-analysis-application-to-intrahost-variation-part-1/623)
]
.image-40[
![Intrahost variation](../../images/upload-data-to-ena/intra-host.png)
]

.reduce70[Minor allelic-variants can be used to detect intrahost variation. From Maier et al., 2021 [doi.org/10.1101/2021.03.25.437046](https://doi.org/10.1101/2021.03.25.437046)]
---

### Submitting reads with Galaxy
.left[
Why use Galaxy to submit to ENA?
- intuitive graphical user interface (GUI)
- simple metadata input via a template spreadsheet or interactively
- no bioinformatics skills needed
]
.image-75[![upload-tool](../../images/upload-data-to-ena/upload-tool.png)
]

---

### Submission overview
.image-100[
![reads-submission](../../images/upload-data-to-ena/reads_submission.png)
]
---

### What you need
.left[
Data:
- compressed fastq format (*.fastq.gz, *.fastq.bz2)
- human traces removed ([tutorial](https://training.galaxyproject.org/training-material/topics/sequence-analysis/tutorials/human-reads-removal/tutorial.html))

Metadata:
- interactive metadata input (for a few submissions) or;
- metadata [template spreadsheet](https://drive.google.com/file/d/1Gx78GKh58PmRjdmJ05DBbpObAL-3oUFX/view?usp=sharing) (for bulk submissions)

Credentials:
- [ENA Webin credentials](https://www.ebi.ac.uk/ena/submit/sra/#registration) in your Galaxy user information
]
.left[
![ENA-credentials](../../images/upload-data-to-ena/ENA-credentials.png)
]
---

### Metadata
.left[
For the submission of SARS-CoV-2 reads [ENA's metadata model](https://ena-docs.readthedocs.io/en/latest/submit/general-guide/metadata.html) requires:
- study, sample, experiment and run information
- additional information for viral samples ([viral checklist](https://www.ebi.ac.uk/ena/browser/view/ERC000033))
]
![metadata-model](../../images/upload-data-to-ena/metadata_model_reads.png)

---


### Metadata
.left[
Interactive metadata input in Galaxy:
]
![interactive metadata](../../images/upload-data-to-ena/interactive_metadata.png)
---

### Metadata
.left[
Metadata [template spreadsheet](https://drive.google.com/file/d/1Gx78GKh58PmRjdmJ05DBbpObAL-3oUFX/view?usp=sharing):
- one sheet each for study, sample, experiment and run
- built-in controlled vocabulary
]
![metadata_template](../../images/upload-data-to-ena/metadata_template.png)
---


### Metadata
.left[
- Different metadata objects are linked using Aliases
- Aliases must be unique
]
![metadata-model](../../images/upload-data-to-ena/metadata_model_reads.png)
---

### Aliases
.left[
Aliases link metadata objects:
- Experiments are linked to Study and Samples
- Runs are linked to Experiments
]
![study-sample](../../images/upload-data-to-ena/study_sample_exp.png)
---

### Aliases
.left[
Aliases link metadata objects:
- Experiments are linked to Study and Samples
- Runs are linked to Experiments
]
![exp-run](../../images/upload-data-to-ena/exp_run.png)
---

### Aliases
.left[
Aliases link metadata to data:
- Data (filename.fastq.gz) is linked to Run Alias
]
![data-metadata](../../images/upload-data-to-ena/data_metadata.png)
---




---
### &lt;i class=&quot;fas fa-key&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;span class=&quot;visually-hidden&quot;&gt;keypoints&lt;/span&gt; Key points


- ENA is a FAIR data repository for SARS-CoV-2 raw and assembled nucleotide data

- You can easily submit reads to ENA using Galaxy's ENA upload tool (GUI, no bioinformatic skills needed)







---

## Thank You!

This material is the result of a collaborative work. Thanks to the [Galaxy Training Network](https://training.galaxyproject.org) and all the contributors!


<div class="contributors-line">

<a href="/training-material/hall-of-fame/roncoronimiguel/" class="contributor-badge contributor-roncoronimiguel"><img src="https://avatars.githubusercontent.com/roncoronimiguel?s=27" alt="Avatar">Miguel Roncoroni</a>


</div>



<img src="/training-material/assets/images/GTN.png" alt="Galaxy Training Network" style="height: 100px;"/>


<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
This material is licensed under the Creative Commons Attribution 4.0 International License</a>.


    </textarea>
	<script src="/training-material/assets/js/remark-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="/training-material/assets/js/theme.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/clipboard.min.js"></script>
    <script type="text/javascript">
      var slideshow = remark.create({navigation: {scroll: false}, ratio: '16:9'});
      var hljs = remark.highlighter.engine;
      var snippets = document.querySelectorAll('code.remark-code');
        [].forEach.call(snippets,function(snippet){
          snippet.firstChild.insertAdjacentHTML('beforebegin','<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
        });
      var clipboardSnippets=new ClipboardJS('[data-clipboard-snippet]',{
        target:function(trigger){return trigger.parentElement;
      }});
    </script>

    <script type="text/javascript">
        if(window.location.hostname === "galaxyproject.github.io") {
            // Redirect
            var redirect = "https://training.galaxyproject.org" + window.location.pathname + window.location.search;
            $('body').prepend("<div style='text-align: center'><strong>Note: </strong>This content has a new home at <a href=\"" + redirect + "\">" + redirect + "</a>, which you will be redirected to in 5 seconds.</div>");

            window.setTimeout(function(){
                window.location.href = redirect;
            }, 5000)

        }
    </script>

  </body>
</html>
