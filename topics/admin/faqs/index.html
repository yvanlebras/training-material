<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Galaxy Training!</title>
        
            <!--
<script async defer data-domain="training.galaxyproject.org" src="https://plausible.galaxyproject.eu/js/plausible.js"></script>
-->
<!-- We let users opt-out, so if they've opted in, we need to append the plausible script to the body -->

<script>
var scriptElement = document.createElement("script");
scriptElement.async = true;
scriptElement.defer = true;
scriptElement.setAttribute("data-domain", "training.galaxyproject.org");
scriptElement.src = "https://plausible.galaxyproject.eu/js/plausible.js";

// Appending the script element to the body
if(localStorage.getItem('plausible-opt-out') !== 'opt-out' && navigator.doNotTrack !== "1") {
	console.log("Plausible: opt-in");
	// Wait for the document to be available
	document.addEventListener("DOMContentLoaded", function(event) {
		document.body.appendChild(scriptElement);
	});
}
</script>

<!-- JavaScript Error Monitoring, and performance tracking. -->
<!--
<script
  src="https://browser.sentry-cdn.com/7.52.1/bundle.tracing.min.js"
  integrity="sha384-muuFXKS3752PNA4rPm9Uq6BLvOfV4CXyr9MHDBPvozOJJUWLKkogEFWOIRoVps43"
  crossorigin="anonymous"
></script>
-->
<script type="text/javascript">
var scriptElement = document.createElement("script");
scriptElement.src = "https://browser.sentry-cdn.com/7.52.1/bundle.tracing.min.js";
scriptElement.integrity = "sha384-muuFXKS3752PNA4rPm9Uq6BLvOfV4CXyr9MHDBPvozOJJUWLKkogEFWOIRoVps43";
scriptElement.crossOrigin = "anonymous";

if(localStorage.getItem('sentry-opt-out') !== 'opt-out' && navigator.doNotTrack !== "1") {
	console.log("Sentry: opt-in");
	// Appending the script element to the body
	document.addEventListener("DOMContentLoaded", function(event) {
		document.body.appendChild(scriptElement);
	});
		
	Sentry.init({
	  dsn: "https://45e0ec6e4373462b92969505df37cf40@sentry.galaxyproject.org/10",
	  release: "galaxy-training-network@ee51c939937f9893c63a0f9494eaef0bfbfa1c6d",
	  integrations: [new Sentry.BrowserTracing(), new Sentry.Replay()],
	  sampleRate: 0.1,
	  tracesSampleRate: 0.1,
	  // Capture Replay for no sessions by default
	  replaysSessionSampleRate: 0.01,
	  // plus for 1% of sessions with an error
	  replaysOnErrorSampleRate: 0.01,
	  // PII OFF
	  sendDefaultPii: false, // Off by default but just in case.
	  environment: "production",
	});
}
</script>

        
        <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon">
        <link rel="alternate" type="application/atom+xml" href="/training-material/feed.xml">
        <link rel="canonical" href="https://training.galaxyproject.org/training-material/topics/admin/faqs/">
        <link rel="license" href="https://spdx.org/licenses/CC-BY-4.0">
        <link rel="preload" href="/training-material/assets/fonts/AtkinsonHyperlegible/Atkinson-Hyperlegible-Regular-102a.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/training-material/assets/fonts/AtkinsonHyperlegible/Atkinson-Hyperlegible-Bold-102a.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/training-material/assets/fonts/AtkinsonHyperlegible/Atkinson-Hyperlegible-Italic-102a.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" as="script" crossorigin>
        <link rel="preload" href="/training-material/assets/css/main.css?v=3" as="style">
        <link rel='preload' href='/training-material/assets/js/bundle.theme.js?v=1699921613' as='script'>
<link rel='preload' href='/training-material/assets/js/bundle.main.js?v=1699921613' as='script'>
        <link rel="stylesheet" href="/training-material/assets/css/main.css?v=3">
        <link rel="manifest" href="/training-material/manifest.json">
        <meta name="theme-color" content="#2c3143"/>


        <meta name="DC.identifier" content="https://github.com/galaxyproject/training-material">
<meta name="DC.type" content="text">
<meta name="DC.title" content="">
<meta name="DC.publisher" content="Galaxy Training Network">
<meta name="DC.date" content="2021-03-15 16:35:56 +0000">

        
        
        
        
        <meta name="description" content="Collection of tutorials developed and maintained by the w...">
        <meta property="og:site_name" content="Galaxy Training Network">
        <meta property="og:title" content="Galaxy Training">
        <meta property="og:description" content="Collection of tutorials developed and maintained by the w...">
        
        <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png">

        
    </head>
    <body data-spy="scroll" data-target="#toc" data-brightness="auto" data-contrast="auto">
        <script src='/training-material/assets/js/bundle.theme.js?v=1699921613'></script>
        <header>
    <nav class="navbar navbar-expand-md navbar-dark" aria-label="Site Navigation">
        <div class="container">
            <a class="navbar-brand" href="/training-material/">
                <img src="/training-material/assets/images/GTN-60px.png" height="30" alt="Galaxy Training Network logo">
                
                    Galaxy Training!
                
            </a>

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#top-navbar" aria-controls="top-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="top-navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/training-material/hall-of-fame" title="Hall of Fame">
                           <i class="fas fa-users" aria-hidden="true"></i><span class="visually-hidden">hall-of-fame</span> Contributors
                        </a>

                        
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="/training-material/learning-pathways" title="Learning Pathways">
                           <i class="fas fa-graduation-cap" aria-hidden="true"></i><span class="visually-hidden">curriculum</span> Learning Pathways
                        </a>
                    </li>

                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Help">
        <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">help</span> Help
    </a>
    <div class="dropdown-menu dropdown-menu-right">
        <!-- disable Tess for now
        <form method="get" action="https://tess.elixir-europe.org/materials">
            <input type="text" id="search" name="q" value="" style="margin-left: 0.5em;/*! border-radius: 0px; */">
            <input type="hidden" value="Galaxy Training" name="content_provider">
            <input type="submit" value="Search on TeSS" style="width: 92%;border-radius: 0px;margin: 0.5em;background: #f47d20;border: 0px;padding: 0.25em;" class="">
        </form>
        -->

	<a class="dropdown-item" href="/training-material/faqs/index.html" title="Check our FAQs">
           <i class="far fa-question-circle" aria-hidden="true"></i><span class="visually-hidden">question</span> FAQs
        </a>
        
        <a class="dropdown-item" href="https://help.galaxyproject.org/" title="Discuss on Galaxy Help">
            <i class="far fa-comments" aria-hidden="true"></i><span class="visually-hidden">feedback</span> Galaxy Help Forum
        </a>
        <a class="dropdown-item" href="https://gitter.im/Galaxy-Training-Network/Lobby" title="Discuss on gitter">
           <i class="fab fa-gitter" aria-hidden="true"></i><span class="visually-hidden">gitter</span> Discuss on Gitter
        </a>
    </div>
</li>


                    <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false" title="Extras">
        <i class="far fa-star" aria-hidden="true"></i><span class="visually-hidden">galaxy-star</span> Extras
    </a>
    <div class="dropdown-menu dropdown-menu-right">

        <a class="dropdown-item" href="https://github.com/galaxyproject/training-material/edit/main/topics/admin/faqs/index.md" title="Edit on GitHub">
          <i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit on GitHub
        </a>

        <a class="dropdown-item" href="/training-material/stats.html" title="Show view statistics about this repository">
            <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN statistics
        </a>

        <a class="dropdown-item" href="https://plausible.galaxyproject.eu/training.galaxyproject.org?period=12mo&page=/training-material/topics/admin/faqs/" title="Show view statistics of this page">
            <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> Page Metrics
        </a>

        <!-- link to feedback -->
        
            <a class="dropdown-item" href="/training-material/feedback.html" title="Show feedback statistics about this repository">
                <i class="fas fa-chart-bar" aria-hidden="true"></i><span class="visually-hidden">galaxy-barchart</span> GTN feedback
            </a>
        

		<a href="/training-material/preferences.html" class="dropdown-item">
			<i class="fas fa-palette" aria-hidden="true"></i><span class="visually-hidden">gtn-theme</span> Themes have moved <span class="badge badge-secondary">New</span>
		</a>

        <div class="dropdown-item">
            <div>
                <i class="fas fa-history" aria-hidden="true"></i><span class="visually-hidden">galaxy-rulebuilder-history</span> Previous Versions
            </div>

            <div id="archive-selector">
            
                <a class="btn btn-warning" href="https://training.galaxyproject.org/archive/">Older Versions</a>
            </div>

        </div>

    </div>
</li>


                    <!-- Search bar-->
                    <li class="nav-item">
                      <div id="navbarSupportedContent" role="search">
                        <!-- Search form -->
                        <form class="form-inline mr-auto" method="GET" action="/training-material/search2">
                          <i class="fas fa-search nav-link" aria-hidden="true"></i>
                          <div class="md-form mb-2">
                            <input name="query" class="form-control nicer" type="text" placeholder="Search Tutorials" aria-label="Search">
                          </div>
                        </form>
                      </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

        
        <div class="container main-content" role="main">
        



<section class="faqs">

   <nav aria-label="breadcrumb">
    <ol class="breadcrumb">

     <li class="breadcrumb-item "><a href="/training-material/faqs">All FAQs</a></li>
     
     <li class="breadcrumb-item "><a href="/training-material/faqs/galaxy/">Galaxy FAQs</a></li>
     
     
     
     
     <li class="breadcrumb-item active">Topic FAQs</li>
     

     
     </ol>
    </nav>

    <h1 data-toc-skip>Frequently Asked Questions</h1>
    
<!--<div class="contributors-line">Authors: 
    </div>-->
    <div class="container">
        <div class="row">

            <!-- sidebar, which will move to the top on a small screen -->
            <div class="col-sm-2">
                <nav id="toc" data-toggle="toc" class="sticky-top"></nav>
            </div>
            <div class="col-sm-10">
                













<h3 id="ansible"> <a href="#ansible"> Ansible </a></h3>

<hr/>



<h4 class="faq-area"> Debugging Memory Leaks <a href="/training-material/topics/admin/faqs/python-memory-leaks.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-debugging-memory-leaks"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-debugging-memory-leaks" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Debugging Memory Leaks<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p><a href="https://github.com/bloomberg/memray">memray</a> is a great memory profiler for debugging memory issues.</p>   <p>In the context of Galaxy, this is significantly easier for job handlers. Install it in your <code class="language-plaintext highlighter-rouge">virtualenv</code> and</p>   <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">memray run  --trace-python-allocators -o the_dump &lt;your_handler_startup_command_here&gt;</span><span class="w"><br></span></code></pre></div></div>   <p>Once you’ve collected enough data,</p>   <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">memray flamegraph --leaks --temporal the_dump -o the_dump.html<br></span></code></pre></div></div>   <p>would then produce a report that shows allocation made but not freed over time.</p>   <p>It might also be useful to just check what the process is doing with py-spy dump.</p>   <p>You can follow web workers in gunicorn with</p>   <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">memray run --follow-fork -o the_dump gunicorn 'galaxy.webapps.galaxy.fast_factory:factory()' --timeout 600 --pythonpath lib -k galaxy.webapps.galaxy.workers.Worker -b localhost:8082 --config python:galaxy.web_stack.gunicorn_config -w 1 --preload<br></span></code></pre></div></div>   <p>the traced app will run on port 8082, you can then for instance in an upstream nginx section direct a portion of the traffic to your profiled app.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Define once, reference many times <a href="/training-material/topics/admin/faqs/ansible_define-once.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-define-once-reference-many-times"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-define-once-reference-many-times" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Define once, reference many times<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Using variables, either by defining them ahead of time, or simply accessing them via existing data structures that have been defined, e.g.:</p>   <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># defining a variable that gets reused is great!</span><br><span class="na">galaxy_user</span><span class="pi">:</span> <span class="s">galaxy</span><br><br><span class="na">galaxy_config</span><span class="pi">:</span><br>  <span class="na">galaxy</span><span class="pi">:</span><br>    <span class="c1"># Re-using the galaxy_config_dir variable saves time and ensures everything</span><br>    <span class="c1"># is in sync!</span><br>    <span class="na">datatypes_config_file</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{</span><span class="nv"> </span><span class="s">galaxy_config_dir</span><span class="nv"> </span><span class="s">}}/datatypes_conf.xml"</span><br><br><span class="c1"># and now we can re-use "{{ galaxy_config.galaxy.datatypes_config_file }}"</span><br><span class="c1"># in other places!</span><br><br><span class="na">galaxy_config_templates</span><span class="pi">:</span><br>  <span class="pi">-</span> <span class="na">src</span><span class="pi">:</span> <span class="s">templates/galaxy/config/datatypes_conf.xml</span><br>    <span class="na">dest</span><span class="pi">:</span> <span class="s2">"</span><span class="s">{{</span><span class="nv"> </span><span class="s">galaxy_config.galaxy.datatypes_config_file</span><span class="nv"> </span><span class="s">}}"</span><br></code></pre></div></div>   <p>Practices like those shown above help to avoid problems caused when paths are defined differently in multiple places. The datatypes config file will be copied to the same path as Galaxy is configured to find it in, because that path is only defined in one place. Everything else is a reference to the original definition! If you ever need to update that definition, everything else will be updated accordingly.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Error: "skipping: no hosts matched" <a href="/training-material/topics/admin/faqs/ansible_error-no-hosts-matched.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-error-quot-skipping-no-hosts-matched-quot"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-error-quot-skipping-no-hosts-matched-quot" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Error: &quot;skipping: no hosts matched&quot;<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>There can be multiple reasons this happens, so we’ll step through all of them. We’ll start by assuming you’re running the command</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ansible-playbook galaxy.yml<br></code></pre></div></div>   <p>The following things can cause issues:</p>   <ol>   <li>Within your <code class="language-plaintext highlighter-rouge">galaxy.yml</code>, you’ve referred to a host group that doesn’t exist or is misspelled. Check the <code class="language-plaintext highlighter-rouge">hosts: galaxyservers</code> to ensure it matches the host group defined in the <code class="language-plaintext highlighter-rouge">hosts</code> file.</li>   <li>Vice-versa, the group in your <code class="language-plaintext highlighter-rouge">hosts</code> file should match the hosts selected in the playbook, <code class="language-plaintext highlighter-rouge">galaxy.yml</code>.</li>   <li>If neither of these are the issue, it’s possible Ansible doesn’t know to check the <code class="language-plaintext highlighter-rouge">hosts</code> file for the inventory. Make sure you’ve specified <code class="language-plaintext highlighter-rouge">inventory = hosts</code> in your <code class="language-plaintext highlighter-rouge">ansible.cfg</code>.</li> </ol> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Failing all jobs from a specific user <a href="/training-material/topics/admin/faqs/maintain_fail-users-jobs.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-failing-all-jobs-from-a-specific-user"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-failing-all-jobs-from-a-specific-user" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Failing all jobs from a specific user<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>This command will let you quickly fail every job from the user ‘service-account’ (replace with your preferred user)</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gxadmin tsvquery jobs --user=service-account --nonterminal | awk '{print $1}' |  xargs -I {} -n 1 gxadmin mutate fail-job {} --commit<br></code></pre></div></div> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Galaxy Admin Training Path <a href="/training-material/topics/admin/faqs/git-gat-path.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="comment">   <div class="box-title comment-title" id="comment-galaxy-admin-training-path"><i class="far fa-comment-dots" aria-hidden="true"></i> Comment: Galaxy Admin Training Path</div>   <p>The yearly Galaxy Admin Training follows a specific ordering of tutorials. Use this timeline to help keep track of where you are in Galaxy Admin Training.</p>   <ol id="git-gat-timeline">                    <li class="disabled">         <a href="/training-material/topics/admin/tutorials/ansible-galaxy/tutorial.html">             <div>Step 1</div>             <div>ansible-galaxy</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/backup-cleanup/tutorial.html">             <div>Step 2</div>             <div>backup-cleanup</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/customization/tutorial.html">             <div>Step 3</div>             <div>customization</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/tus/tutorial.html">             <div>Step 4</div>             <div>tus</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/cvmfs/tutorial.html">             <div>Step 5</div>             <div>cvmfs</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/apptainer/tutorial.html">             <div>Step 6</div>             <div>apptainer</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/tool-management/tutorial.html">             <div>Step 7</div>             <div>tool-management</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/reference-genomes/tutorial.html">             <div>Step 8</div>             <div>reference-genomes</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/data-library/tutorial.html">             <div>Step 9</div>             <div>data-library</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/dev/tutorials/bioblend-api/tutorial.html">             <div>Step 10</div>             <div>dev/bioblend-api</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/connect-to-compute-cluster/tutorial.html">             <div>Step 11</div>             <div>connect-to-compute-cluster</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/job-destinations/tutorial.html">             <div>Step 12</div>             <div>job-destinations</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/pulsar/tutorial.html">             <div>Step 13</div>             <div>pulsar</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/celery/tutorial.html">             <div>Step 14</div>             <div>celery</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/gxadmin/tutorial.html">             <div>Step 15</div>             <div>gxadmin</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/reports/tutorial.html">             <div>Step 16</div>             <div>reports</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/monitoring/tutorial.html">             <div>Step 17</div>             <div>monitoring</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/tiaas/tutorial.html">             <div>Step 18</div>             <div>tiaas</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/sentry/tutorial.html">             <div>Step 19</div>             <div>sentry</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/ftp/tutorial.html">             <div>Step 20</div>             <div>ftp</div>         </a>     </li>               <span aria-hidden="true">         <i class="fas fa-arrow-right" aria-hidden="true"></i>     </span>                         <li class="disabled">         <a href="/training-material/topics/admin/tutorials/beacon/tutorial.html">             <div>Step 21</div>             <div>beacon</div>         </a>     </li>           </ol> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> How do I know what I can do with a role? What variables are available? <a href="/training-material/topics/admin/faqs/ansible_role-properties.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-how-do-i-know-what-i-can-do-with-a-role-what-variables-are-available"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-how-do-i-know-what-i-can-do-with-a-role-what-variables-are-available" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: How do I know what I can do with a role? What variables are available?<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>You don’t. There is no standard way for reporting this, but well written roles by trusted authors (e.g. geerlingguy, galaxyproject) do it properly and write all of the variables in the README file of the repository. We try to pick sensible roles for you in this course, but, in real life it may not be that simple.</p>   <p>So, definitely check there first, but if they aren’t there, then you’ll need to read through <code class="language-plaintext highlighter-rouge">defaults/</code> and <code class="language-plaintext highlighter-rouge">tasks/</code> and <code class="language-plaintext highlighter-rouge">templates/</code> to figure out what the role does and how you can control and modify it to accomplish your goals.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> How do I see what variables are set for a host? <a href="/training-material/topics/admin/faqs/ansible_see_inventory.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-how-do-i-see-what-variables-are-set-for-a-host"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-how-do-i-see-what-variables-are-set-for-a-host" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: How do I see what variables are set for a host?<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>If you are using a simple <code class="language-plaintext highlighter-rouge">group_vars</code> file only, per group, and no other variable sources, then it’s relatively easy to tell what variables are getting set for your host! Just look at that one file.</p>   <p>But if you have graduated into using a more complex setup, perhaps with multiple sets of variables, like for example:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>├── group_vars<br>│   ├── all<br>│   │   ├── all.yml<br>│   │   └── secret.yml<br>│   ├── galaxyservers.yml<br>│   └── pulsarservers.yml<br>├── hosts<br>├── host_vars<br>│   ├── galaxy.example.org<br>│   │   ├── all.yml<br>│   │   └── secret.yml<br>│   ├── pulsar.example.org<br>│   │   ├── all.yml<br>│   │   ├── pulsar.yml<br>│   │   └── secret.yml<br>...<br></code></pre></div></div>   <p>Then it might be harder to figure out what variables are being set, in full. This is where <a href="https://docs.ansible.com/ansible/latest/cli/ansible-inventory.html"><code class="language-plaintext highlighter-rouge">ansible-inventory</code></a> command can be useful.</p>   <p><strong>Graph</strong> shows you the structure of your host groups:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ansible-inventory --graph<br>@all:<br>  |--@cluster:<br>  |  |--allie.example.com<br>  |  |--bob.example.com<br>  |  |--charlie.example.com<br>[...]<br></code></pre></div></div>   <p>Here is a relatively simple, flat example, but this can be more complicated if you nest sub-groups of hosts:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@all:<br>  |--@local:<br>  |  |--localhost<br>  |--@ungrouped:<br>  |--@workshop_instances:<br>  |  |--@workshop_eu:<br>  |  |  |--gat-0.eu.training.galaxyproject.eu<br>  |  |  |--gat-1.eu.training.galaxyproject.eu<br>  |  |--@workshop_oz:<br>  |  |--@workshop_us:<br></code></pre></div></div>   <p><strong>List</strong> shows you all defined variables:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ansible-inventory --host galaxy.example.com | head<br>[WARNING]: While constructing a mapping from<br>/group_vars/galaxyservers.yml, line 3, column<br>1, found a duplicate dict key (tiaas_templates_dir). Using last defined value<br>only.<br>{<br>    "ansible_connection": "local",<br>    "ansible_user": "ubuntu",<br>    "certbot_agree_tos": "--agree-tos",<br>    "certbot_auth_method": "--webroot",<br>    "certbot_auto_renew": true,<br>    "certbot_auto_renew_hour": "{{ 23 |random(seed=inventory_hostname)  }}",<br>    "certbot_auto_renew_minute": "{{ 59 |random(seed=inventory_hostname)  }}",<br><br></code></pre></div></div>   <p>And, helpfully, if variables are overridden in precedence you can see that as well with the above warnings.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Is YAML sensitive to True/true/False/false <a href="/training-material/topics/admin/faqs/ansible_yaml.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-is-yaml-sensitive-to-true-true-false-false"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-is-yaml-sensitive-to-true-true-false-false" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Is YAML sensitive to True/true/False/false<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>By <a href="https://yaml.org/refcard.html">this reference</a>, YAML doesn’t really care:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ Y, true, Yes, ON   }    : Boolean true<br>{ n, FALSE, No, off  }    : Boolean false<br></code></pre></div></div> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Mapping Jobs to Specific Storage By User <a href="/training-material/topics/admin/faqs/mapping_by_user.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-mapping-jobs-to-specific-storage-by-user"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-mapping-jobs-to-specific-storage-by-user" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Mapping Jobs to Specific Storage By User<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>It is possible to map your jobs to use specific storage backends based on user! If you have e.g. specific user groups that need their data stored separately from other users, for whatever political reasons, then in your dynamic destination you can do something like:</p>   <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">job_destination</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">job_config</span><span class="p">.</span><span class="nf">get_destination</span><span class="p">(</span><span class="n">destination_id</span><span class="p">)</span><br><span class="k">if</span> <span class="n">user</span> <span class="o">==</span> <span class="sh">"</span><span class="s">alice</span><span class="sh">"</span><span class="p">:</span><br>    <span class="n">job_destination</span><span class="p">.</span><span class="n">params</span><span class="p">[</span><span class="sh">'</span><span class="s">object_store_id</span><span class="sh">'</span><span class="p">]</span> <span class="o">=</span> <span class="sh">'</span><span class="s">foo</span><span class="sh">'</span> <span class="c1"># Maybe lookup the ID from a mapping somewhere<br></span></code></pre></div></div>   <p>If you manage to do this in production, please let us know and we can update this FAQ with any information you encounter.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Operating system compatibility <a href="/training-material/topics/admin/faqs/admin-testing.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-operating-system-compatibility"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-operating-system-compatibility" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Operating system compatibility<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>These Ansible roles and training materials were last tested on Centos 7 and Ubuntu 18.04, but will probably work on other RHEL and Debian variants.</p>   <p>The roles that are used in these training are currently used by <code class="language-plaintext highlighter-rouge">usegalaxy.*</code>, and other, servers in maintaining their infrastructure. (<a href="https://github.com/galaxyproject/infrastructure-playbook/">US</a>, <a href="https://github.com/usegalaxy-eu/infrastructure-playbook">EU</a>, both are running CentOS 7)</p>   <p>If you have an issue running these trainings on your OS flavour, please report <a href="https://github.com/galaxyproject/training-material/issues/new">the issue</a> in the training material and we can see if it is possible to solve.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Running Ansible on your remote machine <a href="/training-material/topics/admin/faqs/ansible_local.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-running-ansible-on-your-remote-machine"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-running-ansible-on-your-remote-machine" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Running Ansible on your remote machine<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>It is possible to have ansible installed on the remote machine and run it there, not just from your local machine connecting to the remote machine.</p>   <p>Your hosts file will need to use <code class="language-plaintext highlighter-rouge">localhost</code>,  and whenever you run playbooks with <code class="language-plaintext highlighter-rouge">ansible-playbook -i hosts playbook.yml</code>, you will need to add <code class="language-plaintext highlighter-rouge">-c local</code> to your command.</p>   <p>Be <strong>certain</strong> that the playbook that you’re writing on the remote machine is stored somewhere safe, like your user home directory, or backed up on your local machine. The cloud can be unreliable and things can disappear at any time.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Variable connection <a href="/training-material/topics/admin/faqs/ansible-connection.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-variable-connection"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-variable-connection" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Variable connection<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>When the playbook runs, as part of the setup, it collects any variables that are set. For a playbook affecting a group of hosts named <code class="language-plaintext highlighter-rouge">my_hosts</code>, it checks many different places for variables, including “group_vars/my_hosts.yml”. If there are variables there, they’re added to the collection of current variables. It also checks “group_vars/all.yml” (for the built-in host group <code class="language-plaintext highlighter-rouge">all</code>). There is a precedence order, but then these variables are available for roles and tasks to consume.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> What if you forget `--diff`? <a href="/training-material/topics/admin/faqs/ansible_diff.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-what-if-you-forget-diff"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-what-if-you-forget-diff" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: What if you forget `--diff`?<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>If you forget to use <code class="language-plaintext highlighter-rouge">--diff</code>, it is not easy to see what has changed. Some modules like the <code class="language-plaintext highlighter-rouge">copy</code> and <code class="language-plaintext highlighter-rouge">template</code> modules have a <code class="language-plaintext highlighter-rouge">backup</code> option. If you set this option, then it will keep a backup copy next to the destination file.</p>   <p>However, most modules do not have such an option, so if you want to know what changes, always use <code class="language-plaintext highlighter-rouge">--diff</code>.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> What is the difference between the roles with `role:` prefix and without? <a href="/training-material/topics/admin/faqs/ansible_role-prefix.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-what-is-the-difference-between-the-roles-with-role-prefix-and-without"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-what-is-the-difference-between-the-roles-with-role-prefix-and-without" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: What is the difference between the roles with `role:` prefix and without?<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>The bare role name is just simplified syntax for the roles, you could equally specifiy <code class="language-plaintext highlighter-rouge">role: &lt;name&gt;</code> every time but it’s only necessary if you want to set additional variables like <code class="language-plaintext highlighter-rouge">become_user</code></p> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="data-libraries"> <a href="#data-libraries"> Data-libraries </a></h3>

<hr/>



<h4 class="faq-area"> Library Permission Issues <a href="/training-material/topics/admin/faqs/library-permissions.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-library-permission-issues"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-library-permission-issues" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Library Permission Issues<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>When running <code class="language-plaintext highlighter-rouge">setup-data-libraries</code> it imports the library with the permissions of the admin user, rather locked down to the account that handled the importing.</p>   <p>Due to how data libraries have been implemented, it isn’t sufficient to share the folder with another user, instead you must also share individual items within this folder. This is an unfortunate issue with Galaxy that we hope to fix someday.</p>   <p>Until then, we can recommend you install the latest version of Ephemeris which includes the <code class="language-plaintext highlighter-rouge">set-library-permissions</code> command which let’s you recursively correct the permissions on a data library. Simply run:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set-library-permissions -g https://galaxy.example.com -a $API_KEY LIBRARY --roles ROLES role1,role2,role3<br></code></pre></div></div>   <p>Where <code class="language-plaintext highlighter-rouge">LIBRARY</code> is the id of the library you wish to correct.</p> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="deployment"> <a href="#deployment"> Deployment </a></h3>

<hr/>



<h4 class="faq-area"> Blank page or no CSS/JavaScript <a href="/training-material/topics/admin/faqs/galaxy-blank-screen.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-blank-page-or-no-css-javascript"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-blank-page-or-no-css-javascript" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Blank page or no CSS/JavaScript<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>This generally means that serving of static content is broken:</p>   <ul>   <li>Check browser console for 404 errors.</li>   <li>Check proxy error log for permission errors.</li>   <li>Verify that your proxy static configuration is correct.</li>   <li>If you have recently upgraded Galaxy or changed the GUI in some way, you will need to rebuild the client</li> </ul> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Database Issues <a href="/training-material/topics/admin/faqs/database-slow-query.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-database-issues"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-database-issues" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Database Issues<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>For slow queries, start with <code class="language-plaintext highlighter-rouge">EXPLAIN ANALYZE</code></p>   <ul>   <li><a href="https://gist.github.com/natefoo/da46bea8136ba67d65f616c86a27c454">Example of the “jobs ready to run” query</a></li> </ul>   <p>However it can be useful to dig into the queries with the <a href="https://tatiyants.com/pev/#/plans">Postgres EXPLAIN Visualizer (PEV)</a> to get a more visual and clear representation. (Try it with this <a href="https://gist.github.com/hexylena/467c7726b5ab9e18c47080893dbc072e">demo data</a>)</p>   <p>You can set some options in the Galaxy configuration or database that will help debugging this:</p>   <ul>   <li><code class="language-plaintext highlighter-rouge">database_engine_option_echo</code> (but warning, extremely verbose)</li>   <li><code class="language-plaintext highlighter-rouge">slow_query_log_threshold</code> logs to Galaxy log file</li>   <li><code class="language-plaintext highlighter-rouge">sentry_sloreq_threshold</code> if using Sentry</li> </ul>   <p>Additionally check that your database is running <code class="language-plaintext highlighter-rouge">VACUUM</code> regularly enough and look at <code class="language-plaintext highlighter-rouge">VACUUM ANALYZE</code></p>   <p>There are some <code class="language-plaintext highlighter-rouge">gxadmin query pg-*</code> commands which can help you monitor and track this information.</p>   <p>Lastly, check your database settings! It might not have enough resources allocated. Check <a href="https://pgtune.leopard.in.ua/">PGTune</a> for some suggestions of optimised parameters.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Debugging tool errors <a href="/training-material/topics/admin/faqs/galaxy-tool-error.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-debugging-tool-errors"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-debugging-tool-errors" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Debugging tool errors<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Tool stdout/stderr is available in UI under “i” icon on history dataset</p>   <ol>   <li>Set <code class="language-plaintext highlighter-rouge">cleanup_job</code> to <code class="language-plaintext highlighter-rouge">onsuccess</code></li>   <li>Cause a job failure</li>   <li>Go to job working directory (find in logs or <code class="language-plaintext highlighter-rouge">/data/jobs/&lt;hash&gt;/&lt;job_id&gt;</code>)</li>   <li>Poke around, try running things (<code class="language-plaintext highlighter-rouge">srun --pty bash</code> considered useful)</li> </ol>   <p>Familiarize yourself with the places Galaxy keeps things</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Debugging tool memory errors <a href="/training-material/topics/admin/faqs/galaxy-tool-memory-error.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-debugging-tool-memory-errors"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-debugging-tool-memory-errors" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Debugging tool memory errors<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Often the tool output contains one of:</p>   <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">MemoryError                 #</span><span class="w"> </span>Python<br><span class="gp">what():  std::bad_alloc     #</span><span class="w"> </span>C++<br><span class="gp">Segmentation Fault          #</span><span class="w"> </span>C - but could be other problems too<br><span class="gp">Killed                      #</span><span class="w"> </span>Linux OOM Killer<br></code></pre></div></div>   <p>Solutions:</p>   <ul>   <li>Change input sizes or params     <ul>       <li>Map/reduce?</li>     </ul>   </li>   <li>Decrease the amount of memory the tool needs</li>   <li>Increase the amount of memory available to the job     <ul>       <li>Request more memory from cluster scheduler</li>       <li>Use job resubmission to automatically rerun with a larger memory allocation</li>     </ul>   </li>   <li>Cross your fingers and rerun the job</li> </ul> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Galaxy UI is slow <a href="/training-material/topics/admin/faqs/galaxy-ui-slow.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-galaxy-ui-is-slow"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-galaxy-ui-is-slow" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Galaxy UI is slow<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>There is a great <a href="https://docs.galaxyproject.org/en/master/dev/finding_and_improving_slow_code.html#profiling">Tutorial from @mvdbeek</a> which we recommend you follow.</p>   <p>Additionally you can use <code class="language-plaintext highlighter-rouge">py-spy</code> to record the issue and generate a flame graph.</p> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Tool missing from Galaxy <a href="/training-material/topics/admin/faqs/galaxy-tool-missing.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-tool-missing-from-galaxy"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-tool-missing-from-galaxy" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Tool missing from Galaxy<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>First, restart Galaxy and watch the log for lines like:</p>   <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">Loaded tool id: toolshed.g2.bx.psu.edu/repos/iuc/sickle/sickle/1.33, version: 1.33 into tool panel....<br></span></code></pre></div></div>   <p>After startup, check <code class="language-plaintext highlighter-rouge">integrated_tool_panel.xml</code> for a line like the following to be sure it was loaded properly and added to the toolbox (if not, check the logs further)</p>   <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tool</span> <span class="na">id=</span><span class="s">"toolshed.g2.bx.psu.edu/repos/iuc/sickle/sickle/1.33"</span> <span class="nt">/&gt;</span><br></code></pre></div></div>   <p>If it is a toolshed tool, check <code class="language-plaintext highlighter-rouge">shed_tool_conf.xml</code> for</p>   <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;tool</span> <span class="na">file=</span><span class="s">"toolshed.g2.bx.psu.edu/repos/iuc/sickle/43e081d32f90/sickle/sickle.xml"</span> <span class="na">guid=</span><span class="s">"toolshed.g2.bx.psu.edu/repos/iuc/sickle/sickle/1.33"</span><span class="nt">&gt;</span><br>...<br><span class="nt">&lt;/tool&gt;</span><br></code></pre></div></div>   <p>Additionally if you have multiple job handlers, <em>sometimes</em>, rarely they don’t all get the update. Just restart them if that’s the case. Alternatively you can send an (authenticated) API requested:</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -X PUT https://galaxy.example.org/api/configuration<br></code></pre></div></div> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="diffs"> <a href="#diffs"> Diffs </a></h3>

<hr/>



<h4 class="faq-area"> How to read a Diff <a href="/training-material/topics/admin/faqs/diffs.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-how-to-read-a-diff"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-how-to-read-a-diff" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: How to read a Diff<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>If you haven’t worked with diffs before, this can be something quite new or different.</p>   <p>If we have two files, let’s say a grocery list, in two files. We’ll call them ‘a’ and ‘b’.</p>   <blockquote class="code-2col">   <blockquote class="code-in">     <div class="box-title code-in-title" id="code-in-old"><i class="far fa-keyboard" aria-hidden="true" ></i> Input: Old</div>     <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat old<br>🍎<br>🍐<br>🍊<br>🍋<br>🍒<br>🥑<br></code></pre></div>    </div>   </blockquote>   <blockquote class="code-out">     <div class="box-title code-out-title" id="code-out-new"><i class="fas fa-laptop-code" aria-hidden="true" ></i> Output: New</div>     <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ cat new<br>🍎<br>🍐<br>🍊<br>🍋<br>🍍<br>🥑<br></code></pre></div>    </div>   </blockquote> </blockquote>   <p>We can see that they have some different entries. We’ve removed 🍒 because they’re awful, and replaced them with an 🍍</p>   <p>Diff lets us compare these files</p>   <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>diff old new<br>5c5<br>&lt; 🍒<br><span class="nt">---</span><br><span class="o">&gt;</span> 🍍<br></code></pre></div></div>   <p>Here we see that 🍒 is only in a, and 🍍 is only in b. But otherwise the files are identical.</p>   <p>There are a couple different formats to diffs, one is the ‘unified diff’</p>   <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>diff <span class="nt">-U2</span> old new<br><span class="nt">---</span> old	2022-02-16 14:06:19.697132568 +0100<br>+++ new	2022-02-16 14:06:36.340962616 +0100<br>@@ <span class="nt">-3</span>,4 +3,4 @@<br> 🍊<br> 🍋<br>-🍒<br>+🍍<br> 🥑<br></code></pre></div></div>   <p>This is basically what you see in the training materials which gives you a lot of context about the changes:</p>   <ul>   <li><code class="language-plaintext highlighter-rouge">--- old</code> is the ‘old’ file in our view</li>   <li><code class="language-plaintext highlighter-rouge">+++ new</code> is the ‘new’ file</li>   <li>@@ these lines tell us where the change occurs and how many lines are added or removed.</li>   <li>Lines starting with a - are removed from our ‘new’ file</li>   <li>Lines with a + have been added.</li> </ul>   <p>So when you go to apply these diffs to your files in the training:</p>   <ol>   <li>Ignore the header</li>   <li>Remove lines starting with - from your file</li>   <li>Add lines starting with + to your file</li> </ol>   <p>The other lines (🍊/🍋 and 🥑) above just provide “context”, they help you know where a change belongs in a file, but <strong>should not be edited</strong> when you’re making the above change. Given the above diff, you would find a line with a 🍒, and replace it with a 🍍</p>   <h4 id="added--removed-lines">Added &amp; Removed Lines</h4>   <p>Removals are very easy to spot, we just have removed lines</p>   <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span> old	2022-02-16 14:06:19.697132568 +0100<br>+++ new	2022-02-16 14:10:14.370722802 +0100<br>@@ <span class="nt">-4</span>,3 +4,2 @@<br> 🍋<br> 🍒<br>-🥑<br></code></pre></div></div>   <p>And additions likewise are very easy, just add a new line, between the other lines in your file.</p>   <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span> old	2022-02-16 14:06:19.697132568 +0100<br>+++ new	2022-02-16 14:11:11.422135393 +0100<br>@@ <span class="nt">-1</span>,3 +1,4 @@<br> 🍎<br>+🍍<br> 🍐<br> 🍊<br></code></pre></div></div>   <h4 id="completely-new-files">Completely new files</h4>   <p>Completely new files look a bit different, there the “old” file is <code class="language-plaintext highlighter-rouge">/dev/null</code>, the empty file in a Linux machine.</p>   <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>diff <span class="nt">-U2</span> /dev/null old<br><span class="nt">---</span> /dev/null	2022-02-15 11:47:16.100000270 +0100<br>+++ old	2022-02-16 14:06:19.697132568 +0100<br>@@ <span class="nt">-0</span>,0 +1,6 @@<br>+🍎<br>+🍐<br>+🍊<br>+🍋<br>+🍒<br>+🥑<br></code></pre></div></div>   <p>And removed files are similar, except with the new file being /dev/null</p>   <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">---</span> old	2022-02-16 14:06:19.697132568 +0100<br>+++ /dev/null	2022-02-15 11:47:16.100000270 +0100<br>@@ <span class="nt">-1</span>,6 +0,0 @@<br>-🍎<br>-🍐<br>-🍊<br>-🍋<br>-🍒<br>-🥑<br></code></pre></div></div> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="galaxy"> <a href="#galaxy"> Galaxy </a></h3>

<hr/>



<h4 class="faq-area"> How many mules? <a href="/training-material/topics/admin/faqs/galaxy-how-many-mules.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-how-many-mules"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-how-many-mules" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: How many mules?<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p>Start with 2 and add more as needed. If you notice that your jobs seem to inexplicably sit for a long time before being dispatched to the cluster, or after they have finished on the cluster, you may need additional handlers.</p> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="galaxy admin interface"> <a href="#galaxy admin interface"> Galaxy admin interface </a></h3>

<hr/>



<h4 class="faq-area"> Install tools via the Admin UI <a href="/training-material/topics/admin/faqs/install_tool.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-install-tools-via-the-admin-ui"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-install-tools-via-the-admin-ui" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Install tools via the Admin UI<span class="fold-unfold fa fa-minus-square"></span></button></div>   <ol>   <li>Open Galaxy in your browser and type `` in the tool search box on the left. If “” is among the search results, you can skip the following steps.</li>   <li>Access the Admin menu from the top bar (you need to be logged-in with an email specified in the <code class="language-plaintext highlighter-rouge">admin_users</code> setting)</li>   <li>Click “Install and Uninstall”, which can be found on the left, under “Tool Management”</li>   <li>Enter `` in the search interface</li>   <li>Click on the first hit, having <code class="language-plaintext highlighter-rouge">devteam</code> as owner</li>   <li>Click the “Install” button for the latest revision</li>   <li>Enter “” as the target section and click “OK”.</li> </ol> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="gat"> <a href="#gat"> Gat </a></h3>

<hr/>



<h4 class="faq-area"> Time to git commit <a href="/training-material/topics/admin/faqs/git-commit.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="notranslate hands_on">   <div class="box-title hands_on-title" id="hands-on-time-to-git-commit"><i class="fas fa-pencil-alt" aria-hidden="true"></i> Hands-on: Time to git commit</div>   <p>It’s time to commit your work! Check the status with</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git status<br></code></pre></div></div>   <p>Add your changed files with</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add ... # any files you see that are changed<br></code></pre></div></div>   <p>And then commit it!</p>   <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit -m 'Finished '<br></code></pre></div></div> </blockquote> <!--END_SNIPPET-->




<h4 class="faq-area"> Using Git With Ansible Vaults <a href="/training-material/topics/admin/faqs/git-attributes.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="notranslate hands_on">   <div class="box-title hands_on-title" id="hands-on-using-git-with-ansible-vaults"><i class="fas fa-pencil-alt" aria-hidden="true"></i> Hands-on: Using Git With Ansible Vaults</div>   <p>When looking at <code class="language-plaintext highlighter-rouge">git log</code> to see what you changed, you cannot easily look into Ansible Vault changes: you just see the changes in the encrypted versions which is unpleasant to read.</p>   <p>Instead we can use <a href="https://www.git-scm.com/docs/gitattributes"><code class="language-plaintext highlighter-rouge">.gitattributes</code></a> to tell <code class="language-plaintext highlighter-rouge">git</code> that we want to use a different program to visualise differences between two versions of a file, namely <code class="language-plaintext highlighter-rouge">ansible-vault</code>.</p>   <ol>   <li>Check your <code class="language-plaintext highlighter-rouge">git log -p</code> and see how the Vault changes look (you can type <code class="language-plaintext highlighter-rouge">/vault</code> to search). Notice that they’re just changed encoded content.</li>   <li>     <p>Create the file <code class="language-plaintext highlighter-rouge">.gitattributes</code> in the same folder as your <code class="language-plaintext highlighter-rouge">galaxy.yml</code> playbook, with the following contents:</p>     <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>group_vars/secret.yml diff=ansible-vault merge=binary<br></code></pre></div>    </div>   </li>   <li>Try again to <code class="language-plaintext highlighter-rouge">git log -p</code> and look for the vault changes. Note that you can now see the decrypted content! Very useful.</li> </ol> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="tips"> <a href="#tips"> Tips </a></h3>

<hr/>



<h4 class="faq-area"> Opening a split screen in byobu <a href="/training-material/topics/admin/faqs/byobu-shortcuts.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="tip">   <div class="box-title tip-title" id="tip-opening-a-split-screen-in-byobu"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-opening-a-split-screen-in-byobu" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true"></i> Tip: Opening a split screen in byobu<span class="fold-unfold fa fa-minus-square"></span></button></div>   <div class="box-title tip-title" id="tip-opening-a-split-screen-in-byobu-1"><button class="gtn-boxify-button tip" type="button" aria-controls="tip-opening-a-split-screen-in-byobu-1" aria-expanded="true"><i class="far fa-lightbulb" aria-hidden="true" ></i> Tip: Opening a split screen in byobu<span class="fold-unfold fa fa-minus-square"></span></button></div>   <p><kbd>Shift-F2</kbd>: Create a horizontal split</p>   <p><kbd>Shift-Left/Right/Up/Down</kbd>: Move focus among splits</p>   <p><kbd>Ctrl-F6</kbd>:  Close split in focus</p>   <p><kbd>Ctrl-D</kbd>:  (Linux, Mac users) Close split in focus</p>   <p>There are more byobu commands described in this <a href="https://gist.github.com/devhero/7b9a7281db0ac4ba683f">gist</a></p> </blockquote> <!--END_SNIPPET-->



 <br> 

<h3 id="utilities"> <a href="#utilities"> Utilities </a></h3>

<hr/>



<h4 class="faq-area"> Got lost along the way? <a href="/training-material/topics/admin/faqs/missed-something.html"><i class="fas fa-external-link-alt"></i></a> </h4>

<!--SNIPPET--><blockquote class="comment">   <div class="box-title comment-title" id="comment-got-lost-along-the-way"><i class="far fa-comment-dots" aria-hidden="true"></i> Comment: Got lost along the way?</div>   <p>If you missed any steps, you can compare against the <a href="https://github.com/hexylena/git-gat/tree/step-">reference files</a>, or see what changed since <a href="https://github.com/hexylena/git-gat/compare/step--1...step-#files_bucket">the previous tutorial</a>.</p>   <p>If you’re using <code class="language-plaintext highlighter-rouge">git</code> to track your progress, remember to add your changes and commit with a good commit message!</p> </blockquote> <!--END_SNIPPET-->











<br><br><hr>
<h5>Still have questions?</h5>

<!--
add a button, include configuration options:

 link: "https://example.com"
 label: this text goes on button
 size: small/medium/large/extralarge
 colour:  blue/purple/green/red/yellow/lightblue/white/black
 square: false , if you want a regular rectangular button
-->




<a href="https://gitter.im/Galaxy-Training-Network/Lobby" class="btn btn-square-medium btn-yellow"><div>Gitter Chat Support</div></a>


<!--
add a button, include configuration options:

 link: "https://example.com"
 label: this text goes on button
 size: small/medium/large/extralarge
 colour:  blue/purple/green/red/yellow/lightblue/white/black
 square: false , if you want a regular rectangular button
-->




<a href="https://help.galaxyproject.org" class="btn btn-square-medium btn-purple"><div>Galaxy Help Forum</div></a>



            </div>
        </div>
    </div>
</section>

        </div>
        <footer>
	<hr />
	<div class="container">
		<div class="row">
			<div class="col-sm-6" style="text-align: left">
				<p>
					The <a href="https://galaxyproject.org/teach/gtn/">Galaxy Training Network</a>
					provides researchers with online training materials, connects them with local trainers, and helps promoting FAIR and Open Science practices worldwide. All contributions are subject to the <a rel="code-of-conduct" href="https://galaxyproject.org/community/coc/">Galaxy Project Code of Conduct</a>.
				</p>
				<p>
				The GTN infrastructure is licensed under <a rel="license" href="https://github.com/galaxyproject/training-material/blob/main/LICENSE.md">MIT</a>
				</p>
				<p>
				Revision <a href="https://github.com/galaxyproject/training-material/commit/ee51c939937f9893c63a0f9494eaef0bfbfa1c6d">ee51c93</a>, built with Jekyll (4.3.2 | production)
				</p>
			</div>
			<div class="col-sm-6" style="text-align: right">
				
				<p>
					<i>This Material</i>:
					
					is licensed under
					<a rel="license" href="https://spdx.org/licenses/CC-BY-4.0">
						Creative Commons Attribution 4.0 International License
					</a>
				</p>
				<p>
					<a href="https://github.com/galaxyproject/training-material/edit/main/topics/admin/faqs/index.md" title="Edit on GitHub">
					<i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">github</span> Edit on GitHub
					</a>
				</p>
			</div>
		</div>
	</div>
</footer>


    </div>
</footer>


        <script src='/training-material/assets/js/bundle.main.js?v=1699921613'></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </body>
</html>