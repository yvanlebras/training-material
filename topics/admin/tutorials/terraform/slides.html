<!DOCTYPE html>
<html>











  <head>
    <meta charset="utf-8">
    <title>Terraform</title>
    
        <script async defer data-domain="training.galaxyproject.org" src="https://plausible.galaxyproject.eu/js/plausible.js"></script>

    
    <link rel="stylesheet" href="/training-material/assets/css/slides.css">
    <script src="https://kit.fontawesome.com/67b3f98409.js" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="/training-material/favicon.ico" type="image/x-icon" />

    
    
    
    
    <meta name="description" content="Resources related to configuration and maintenance of Gal..." />
    <meta property="og:title" content="Galaxy Training: Terraform" />
    <meta property="og:description" content="Resources related to configuration and maintenance of Gal..." />
    <meta property="og:image" content="/training-material/assets/images/GTNLogo1000.png" />
    <script type="application/ld+json">
      


{
  "@context": "http://schema.org",
  "@type": "Course",
  "accessMode": [
    "textual",
    "visual"
  ],
  "accessModeSufficient": [
    "textual",
    "visual"
  ],
  "accessibilityControl": [
    "fullKeyboardControl",
    "fullMouseControl"
  ],
  "accessibilityFeature": [
    "alternativeText",
    "tableOfContents"
  ],
  "accessibilitySummary": "Short descriptions are present but long descriptions will be needed for non-visual users",
  "audience": {
    "@type": "EducationalAudience",
    "educationalRole": "students"
  },
  "citation": {
    "@type": "CreativeWork",
    "name": "Community-Driven Data Analysis Training for Biology",
    "url": "https://doi.org/10.1016/j.cels.2018.05.012"
  },
  "copyrightHolder": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "dateModified": "1970-01-01 00:33:41 +0000",
  "discussionUrl": "https://gitter.im/Galaxy-Training-Network/Lobby",
  "headline": "Terraform",
  "interactivityType": "mixed",
  "isAccessibleForFree": true,
  "isFamilyFriendly": true,
  "license": "https://spdx.org/licenses/CC-BY-4.0.html",
  "producer": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "provider": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "sourceOrganization": {
    "@type": "Organization",
    "email": "galaxytrainingnetwork@gmail.com",
    "name": "Galaxy Training Network",
    "url": "https://galaxyproject.org/teach/gtn/"
  },
  "isPartOf": {
    "@type": "CreativeWork",
    "name": "Galaxy Server administration",
    "description": "Resources related to configuration and maintenance of Galaxy servers",
    "url": "https://training.galaxyproject.org//training-material/topics/admin/"
  },
  "courseCode": "admin / terraform / slides",
  "learningResourceType": "slides",
  "name": "Slides for 'Terraform' tutorial",
  "url": "https://training.galaxyproject.org//training-material/topics/admin/tutorials/terraform/slides.html",
  "description": "The questions this  addresses are:\n - What is Terraform?\n - In which situations is it good/bad?\n - How to use it for managing your VM cluster\n\n\\nThe objectives are:\n - Learn Terraform basics\n - Launch a VM with Terraform\n - Launch and tear down a cluster with Terraform\n\n",
  "inLanguage": {
    "@type": "Language",
    "name": "English",
    "alternateName": "en"
  },
  "hasPart": [

  ],
  "author": [
    {
      "@type": "Person",
      "name": "Helena Rasche"
    }
  ],
  "contributor": [
    {
      "@type": "Person",
      "name": "Helena Rasche"
    }
  ],
  "about": [
    {
      "@type": "CreativeWork",
      "name": "Galaxy Server administration",
      "description": "Resources related to configuration and maintenance of Galaxy servers",
      "url": "https://training.galaxyproject.org//training-material/topics/admin/"
    }
  ]
}
    </script>
    <script type="text/javascript" src="/training-material/assets/js/jquery.slim.min.js"></script>
  </head>
  <body>
    <textarea id="source">
name: inverse
layout: true
class: center, middle, inverse

<div class="my-header"><span>
<a href="/training-material/topics/admin" title="Return to topic page" ><i class="fa fa-level-up" aria-hidden="true"></i></a>

<a class="nav-link" href="https://github.com/galaxyproject/training-material/edit/main/topics/admin/tutorials/terraform/slides.html"><i class="fa fa-pencil" aria-hidden="true"></i></a>

</span></div>

<div class="my-footer"><span>

  
<img src="/training-material/assets/images/gat.png" alt="page logo" style="height: 40px;"/>
  

</span></div>

---



  
<img src="/training-material/assets/images/gat.png" alt="page logo" class="cover-logo" />
  


# Terraform


<div class="contributors-line">

<a href="/training-material/hall-of-fame/hexylena/" class="contributor-badge contributor-hexylena"><img src="https://avatars.githubusercontent.com/hexylena?s=27" alt="Avatar">Helena Rasche</a>


<a href="https://training.galaxyproject.org/training-material/topics/contributing/" class="contributor-badge contributor-newcontributors"><i class="fas fa-users" aria-hidden="true"></i><span class="visually-hidden">hall-of-fame</span>Add Contributions!</a>


</div>


<div class="footnote" style="bottom: 4 em;"><i class="far fa-calendar" aria-hidden="true"></i><span class="visually-hidden">last_modification</span> Updated: Jul 9, 2021</div>

<div class="footnote" style="bottom: 2.5em;"><i class="fas fa-file-alt" aria-hidden="true"></i><span class="visually-hidden">text-document</span><a href="slides-plain.html"> Plain-text slides</a></div>
<div class="footnote" style="bottom: 1em;"><strong>Tip: </strong>press <kbd>P</kbd> to view the presenter notes</div>

???
Presenter notes contain extra information which might be useful if you intend to use these slides for teaching.

Press `P` again to switch presenter notes off

Press `C` to create a new window where the same presentation will be displayed.
This window is linked to the main window. Changing slides on one will cause the
slide to change on the other.

Useful when presenting.



---







### &lt;i class=&quot;far fa-question-circle&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;span class=&quot;visually-hidden&quot;&gt;question&lt;/span&gt; Questions


- What is Terraform?

- In which situations is it good/bad?

- How to use it for managing your VM cluster


---



### &lt;i class=&quot;fas fa-bullseye&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;span class=&quot;visually-hidden&quot;&gt;objectives&lt;/span&gt; Objectives


- Learn Terraform basics

- Launch a VM with Terraform

- Launch and tear down a cluster with Terraform


---


### Why Terraform

- Managing complex infrastructure is not easy

- Needs to be reproducible

- Needs to be failure resistant

---

### Pets vs Cattle

.pull-left[
- A special, lovingly raised server
- When they become ill you nurse them back to health
- Everyone is sad when it dies
]

.pull-right[
- Generic and replacable
- If one gets sick, you just kill it
- If one dies, no one is sad
]

![On the left is a very cute cat with big eyes, on the right is a picture of cows.](../../images/pets-vs-cattle.jpg)

---

## Terraform

&quot;Infrastructure as Code&quot;

- Write code
- Plan changes
- Create reproducible infrastructure

---

### Write: Infrastructure as Code

- Your infrastructure is completely specified by easy-to-edit text files

- Collaborate on infrastructure using git/hg/etc.

- Automate everything using one piece of software (instead of OpenStack CLI + AWS CLI + ... )

```ini
resource &quot;openstack_compute_instance_v2&quot; &quot;my-server&quot; {
  name            = &quot;my-server&quot;
  image_name      = &quot;CentOS 7&quot;
  flavor_name     = &quot;m1.large&quot;
}

resource &quot;aws_route53_record&quot; &quot;my.server&quot; {
  name    = &quot;my.server.example.org&quot;
  records = [&quot;${openstack_compute_instance_v2.my-server.access_ip_v4}&quot;]
}
```

---

### Plan: your changes

- See how changes will affect resources

- Preview the planned changes before applying them


![Text in the terminal showing that an openstack compute keypair my-cloud-key is being created. Plan: 2 to add, 0 to change, 0 to destroy](../../images/plan.png &quot;Terraform plan&quot;)

???

Easy to see which resources need to be recreated, can produce a nice graph of their dependencies.

---

### Create: Reproducible Infrastructure

- Combine resources across providers (VM from OpenStack, DNS from Amazon, everything done in correct order)

- Consistently reproduce the same infrastructure in a new cloud, new project.

.image-70[
![Graph of requirements showing relationship between provider, instance, and things like the keypair to be added](../../images/graph2.png &quot;A more complex graph showing variables&quot;)
]

???

This was a fantastically useful feature for UseGalaxy.eu, we transitioned smoothly between two OpenStack clouds because we just could say `terraform apply` in our new cloud, our entire infrastructure was reproduced.

---

### Manage Many Resources

```
ACME     Alicloud     Archive    Arukas     AWS     Azure Azure Stack     Bitbucket
Brightbox    CenturyLinkCloud     Chef     Circonus Cloudflare     CloudScale.ch
CloudStack    Cobbler     Consul     Datadog DigitalOcean     DNS     DNSMadeEasy
DNSimple     Docker     Dyn External     F5 BIG-IP     Fastly    FlexibleEngine     GitHub
Gitlab Google Cloud     Grafana     Helm    Heroku     Hetzner Cloud     HTTP
HuaweiCloud     Icinga2     Ignition    InfluxDB     Kubernetes     Librato Linode
Local     Logentries    LogicMonitor     Mailgun     MySQL Netlify     New Relic
Nomad    NS1     Null     Nutanix 1&amp;1     OpenStack     OpenTelekomCloud
OpsGenie     Oracle Cloud Infrastructure     Oracle Cloud Platform Oracle Public
Cloud     OVH     Packet    PagerDuty     Palo Alto Networks     PostgreSQL PowerDNS
ProfitBricks     RabbitMQ    Rancher     Random     RightScale Rundeck     RunScope
Scaleway    SoftLayer     StatusCake     Spotinst TelefonicaOpenCloud     Template
TencentCloud    Terraform     Terraform Enterprise     TLS Triton     UltraDNS
Vault    VMware vCloud Director     VMware NSX-T     VMware vSphere
```

???

Manage VMs across AWS, GCE, OpenStack, and other Clouds

Manage DNS entries with various providers

Manage Database users/tables/authorizations

Manage GitHub repository permissions

---

### Advanced Features

If you find you love it, many advanced features:

- modules for code re-use
- Custom plugins
- Provisioning VMs
- GitHub integration




---
### &lt;i class=&quot;fas fa-key&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;span class=&quot;visually-hidden&quot;&gt;keypoints&lt;/span&gt; Key points


- Terraform lets you develop and implement infrastructure-as-code within your organisation

- It can drastically simplify management of large numbers of VMs







---

## Thank You!

This material is the result of a collaborative work. Thanks to the [Galaxy Training Network](https://training.galaxyproject.org) and all the contributors!


<div class="contributors-line">

<a href="/training-material/hall-of-fame/hexylena/" class="contributor-badge contributor-hexylena"><img src="https://avatars.githubusercontent.com/hexylena?s=27" alt="Avatar">Helena Rasche</a>


</div>



  
<img src="/training-material/assets/images/gat.png" alt="page logo" style="height: 100px;"/>
  


<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
This material is licensed under the Creative Commons Attribution 4.0 International License</a>.


    </textarea>
	<script src="/training-material/assets/js/remark-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="/training-material/assets/js/theme.js"></script>
    <script type="text/javascript" src="/training-material/assets/js/clipboard.min.js"></script>
    <script type="text/javascript">
      var slideshow = remark.create({navigation: {scroll: false}, ratio: '16:9'});
      var hljs = remark.highlighter.engine;
      var snippets = document.querySelectorAll('code.remark-code');
        [].forEach.call(snippets,function(snippet){
          snippet.firstChild.insertAdjacentHTML('beforebegin','<button class="btn btn-light" data-clipboard-snippet><i class="fa fa-copy"></i>&nbsp;Copy</button>');
        });
      var clipboardSnippets=new ClipboardJS('[data-clipboard-snippet]',{
        target:function(trigger){return trigger.parentElement;
      }});
    </script>

    <script type="text/javascript">
        if(window.location.hostname === "galaxyproject.github.io") {
            // Redirect
            var redirect = "https://training.galaxyproject.org" + window.location.pathname + window.location.search;
            $('body').prepend("<div style='text-align: center'><strong>Note: </strong>This content has a new home at <a href=\"" + redirect + "\">" + redirect + "</a>, which you will be redirected to in 5 seconds.</div>");

            window.setTimeout(function(){
                window.location.href = redirect;
            }, 5000)

        }
    </script>

  </body>
</html>
